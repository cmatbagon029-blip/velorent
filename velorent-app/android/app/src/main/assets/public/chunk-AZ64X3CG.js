import{a as ze}from"./chunk-FMDZ6S3R.js";import"./chunk-NUHOWZQU.js";import{$ as K,$a as de,A as h,B as O,C as P,Cb as we,D as m,Db as ke,E as U,Eb as Se,F as j,Fb as Te,G as $,Gb as De,H as r,I as T,Ib as Ie,J as M,Kb as Ee,L as w,M as k,N as S,Nb as Ae,O as Y,Q as A,Qb as Ve,Rb as Re,S as V,Sb as Fe,W as G,X as Q,_ as J,a as H,ab as pe,db as me,eb as ge,fa as X,fb as he,gb as fe,hb as _e,ia as Z,ib as ue,ja as ee,k as q,ka as te,kb as xe,la as ne,ma as ie,n as _,nb as be,o as u,ob as ye,pa as oe,qa as ae,qb as ve,r as N,rb as Pe,s,sa as re,sb as Ce,t as I,tb as Me,u as b,ua as le,ub as Oe,va as ce,w as p,x as W,y as n,ya as se,z as i}from"./chunk-2AVOPVJ6.js";import"./chunk-6TEYLYMN.js";import"./chunk-QUJFQN2Y.js";import"./chunk-MQ34CZDB.js";import"./chunk-3HFMG4JC.js";import"./chunk-GNKKXBWB.js";import"./chunk-ALHFSM7F.js";import"./chunk-6EIW3MWH.js";import"./chunk-V2LICYYN.js";import"./chunk-J3KPDA35.js";import"./chunk-HQYYVS42.js";import"./chunk-E6DTWWEQ.js";import"./chunk-SYUL6SJY.js";import"./chunk-RFVCZTOC.js";import"./chunk-DI7UCLSP.js";import"./chunk-3IVKBF6N.js";import"./chunk-FXFZIWDD.js";import"./chunk-BGL2RXYC.js";import"./chunk-42C7ZIID.js";import"./chunk-C5RQ2IC2.js";import"./chunk-4FNGVWOR.js";import"./chunk-F7H4DQG2.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-EGZPES6R.js";import"./chunk-CKP3SGE2.js";import"./chunk-BGDP6BPN.js";import{g as E}from"./chunk-2K7NMRC4.js";var Ne=["scrollContent"],We=["termsContent"];function Be(c,g){if(c&1){let e=O();n(0,"div",10)(1,"ion-card",11)(2,"ion-card-header")(3,"ion-card-title",12),h(4,"ion-icon",13),r(5," Personal Information "),i(),n(6,"p",14),r(7,"Please enter your personal details to begin."),i()(),n(8,"ion-card-content")(9,"div",15)(10,"ion-item",16)(11,"ion-label",17),r(12,"First Name "),n(13,"span",18),r(14,"*"),i()(),n(15,"ion-input",19),S("ngModelChange",function(t){_(e);let a=m();return k(a.firstName,t)||(a.firstName=t),u(t)}),i()(),n(16,"ion-item",20)(17,"ion-label",17),r(18,"Last Name "),n(19,"span",18),r(20,"*"),i()(),n(21,"ion-input",21),S("ngModelChange",function(t){_(e);let a=m();return k(a.lastName,t)||(a.lastName=t),u(t)}),i()()(),n(22,"ion-item",22)(23,"ion-label",17),r(24,"Mobile Number "),n(25,"span",18),r(26,"*"),i()(),n(27,"ion-input",23),S("ngModelChange",function(t){_(e);let a=m();return k(a.mobileNumber,t)||(a.mobileNumber=t),u(t)}),i()(),n(28,"ion-item",24)(29,"ion-label",17),r(30,"Service Type "),n(31,"span",18),r(32,"*"),i()(),n(33,"ion-select",25),S("ngModelChange",function(t){_(e);let a=m();return k(a.serviceType,t)||(a.serviceType=t),u(t)}),n(34,"ion-select-option",26),r(35,"Self Drive"),i(),n(36,"ion-select-option",27),r(37,"With Driver"),i()()()()(),n(38,"ion-button",28),P("click",function(){_(e);let t=m();return u(t.nextStep())}),r(39," Next "),i()()}if(c&2){let e=m();s(15),w("ngModel",e.firstName),s(6),w("ngModel",e.lastName),s(6),w("ngModel",e.mobileNumber),s(6),w("ngModel",e.serviceType),s(5),p("disabled",!e.firstName||!e.lastName||!e.mobileNumber||!e.serviceType)}}function Le(c,g){c&1&&(n(0,"ion-badge",88),r(1," Available "),i())}function Ue(c,g){if(c&1&&(n(0,"ion-badge",89),r(1),i()),c&2){let e=m(3);s(),M(" ",e.vehicle.status," ")}}function je(c,g){c&1&&h(0,"ion-icon",90)}function $e(c,g){c&1&&h(0,"ion-icon",90)}function He(c,g){if(c&1){let e=O();n(0,"ion-card",31)(1,"ion-card-header")(2,"ion-card-title",12),h(3,"ion-icon",71),r(4," Vehicle Details "),i()(),n(5,"ion-card-content")(6,"div",72)(7,"img",73),P("error",function(){_(e);let t=m(2);return u(t.vehicle.imageUrl="assets/images/vehicle-placeholder.svg")}),i(),h(8,"div",74),b(9,Le,2,0,"ion-badge",75)(10,Ue,2,1,"ion-badge",76),i(),n(11,"div",77)(12,"h3",78),r(13),i(),n(14,"p",79),r(15),i()(),n(16,"div",80)(17,"div",81),P("click",function(){_(e);let t=m(2);return u(t.selectServiceType("Self Drive"))}),h(18,"ion-icon",82),n(19,"div",83)(20,"span",84),r(21,"WITHOUT DRIVER"),i(),n(22,"span",85),r(23),A(24,"number"),n(25,"span",86),r(26,"/ day"),i()()(),b(27,je,1,0,"ion-icon",87),i(),n(28,"div",81),P("click",function(){_(e);let t=m(2);return u(t.selectServiceType("Pick-up/Drop-off"))}),h(29,"ion-icon",48),n(30,"div",83)(31,"span",84),r(32,"PICK-UP/DROP-OFF"),i(),n(33,"span",85),r(34),A(35,"number"),n(36,"span",86),r(37,"/ day"),i()()(),b(38,$e,1,0,"ion-icon",87),i()()()()}if(c&2){let e=m(2);s(7),p("src",e.vehicle.imageUrl||"assets/images/vehicle-placeholder.svg",N)("alt",e.vehicle.name),s(2),p("ngIf",e.vehicle.status==="available"||!e.vehicle.status),s(),p("ngIf",e.vehicle.status&&e.vehicle.status!=="available"),s(3),T(e.vehicle.name),s(2),T(e.vehicle.type),s(2),W("selected",e.serviceType==="Self Drive"),s(6),M("\u20B1",V(24,14,e.vehicle.price_without_driver,"1.2-2")," "),s(4),p("ngIf",e.serviceType==="Self Drive"),s(),W("selected",e.serviceType==="Pick-up/Drop-off"),s(6),M("\u20B1",V(35,17,e.vehicle.price_with_driver,"1.2-2")," "),s(4),p("ngIf",e.serviceType==="Pick-up/Drop-off")}}function qe(c,g){if(c&1&&(n(0,"div",91),h(1,"ion-icon",92),n(2,"span"),r(3),i()()),c&2){let e=m(2);s(3),M("Available days: ",e.getAvailableDaysText(),"")}}function Ye(c,g){c&1&&(n(0,"div",93),h(1,"ion-icon",94),n(2,"span"),r(3,"Not available"),i()())}function Ge(c,g){c&1&&(n(0,"div",93),h(1,"ion-icon",94),n(2,"span"),r(3,"Not available"),i()())}function Qe(c,g){if(c&1&&(n(0,"div",95),h(1,"ion-icon",96),n(2,"span")(3,"strong"),r(4),i(),r(5," rental period"),i()()),c&2){let e=m(2);s(4),M("",e.calculateDays()," day(s)")}}function Je(c,g){c&1&&(n(0,"div",97),h(1,"ion-icon",98),n(2,"span"),r(3,"Operating: Mon-Fri (10:00 AM - 04:00 PM). Weekends closed."),i()())}function Ke(c,g){c&1&&(n(0,"div",99),h(1,"ion-spinner",100),n(2,"span"),r(3,"Checking availability..."),i()())}function Xe(c,g){if(c&1&&(n(0,"div",101),h(1,"ion-icon",102),n(2,"span"),r(3),i()()),c&2){let e=m(2);s(3),T(e.availabilityError)}}function Ze(c,g){if(c&1&&(n(0,"div",91),h(1,"ion-icon",92),n(2,"span"),r(3),i()()),c&2){let e=m(2);s(3),T(e.selectedDateAvailability.message)}}function et(c,g){if(c&1&&(n(0,"div",103),h(1,"ion-icon",104),n(2,"span"),r(3),i()()),c&2){let e=m(2);s(3),M("Available times: ",e.getAvailableTimeRangeText(e.rentFromDate),"")}}function tt(c,g){if(c&1&&(n(0,"div",101),h(1,"ion-icon",94),n(2,"span"),r(3),i()()),c&2){let e=m(2);s(3),M("No time slots available. ",e.getAvailableDaysText(),"")}}function nt(c,g){if(c&1&&(n(0,"div",93),h(1,"ion-icon",94),n(2,"span"),r(3),i()()),c&2){let e=m(2);s(3),M("Time not available. Available: ",e.getAvailableTimeRangeText(e.rentFromDate),"")}}function it(c,g){c&1&&h(0,"ion-icon",107)}function ot(c,g){if(c&1&&(n(0,"div",108),h(1,"img",109),i()),c&2){let e=m(3);s(),p("src",e.validIdPreview,N)}}function at(c,g){if(c&1){let e=O();n(0,"div",55)(1,"input",105),P("change",function(t){_(e);let a=m(2);return u(a.onFileChange(t,"valid"))}),i(),n(2,"label",106),h(3,"ion-icon",58),n(4,"div",59)(5,"span",60),r(6,"Valid ID (Driver's License) "),n(7,"span",18),r(8,"*"),i()(),n(9,"span",61),r(10,"Click or drag to upload"),i()(),b(11,it,1,0,"ion-icon",62),i(),b(12,ot,2,1,"div",63),i()}if(c&2){let e=m(2);s(11),p("ngIf",e.validIdPreview),s(),p("ngIf",e.validIdPreview)}}function rt(c,g){c&1&&h(0,"ion-icon",107)}function lt(c,g){if(c&1&&(n(0,"div",108),h(1,"img",109),i()),c&2){let e=m(3);s(),p("src",e.validIdPreview,N)}}function ct(c,g){if(c&1){let e=O();n(0,"div",55)(1,"input",110),P("change",function(t){_(e);let a=m(2);return u(a.onFileChange(t,"valid"))}),i(),n(2,"label",111),h(3,"ion-icon",58),n(4,"div",59)(5,"span",60),r(6,"Valid ID (Driver's License or Other)"),i(),n(7,"span",61),r(8,"Click or drag to upload"),i()(),b(9,rt,1,0,"ion-icon",62),i(),b(10,lt,2,1,"div",63),i()}if(c&2){let e=m(2);s(9),p("ngIf",e.validIdPreview),s(),p("ngIf",e.validIdPreview)}}function st(c,g){c&1&&h(0,"ion-icon",107)}function dt(c,g){if(c&1&&(n(0,"div",108),h(1,"img",112),i()),c&2){let e=m(2);s(),p("src",e.additionalIdPreview,N)}}function pt(c,g){if(c&1&&(n(0,"ion-select-option",123),r(1),i()),c&2){let e=g.$implicit;p("value",e),s(),M(" ",e," ")}}function mt(c,g){if(c&1){let e=O();n(0,"div",113)(1,"ion-item",114)(2,"ion-label",17),r(3,"Payment Method for Down Payment "),n(4,"span",18),r(5,"*"),i()(),n(6,"ion-select",115),S("ngModelChange",function(t){_(e);let a=m(2);return k(a.paymentMethod,t)||(a.paymentMethod=t),u(t)}),b(7,pt,2,2,"ion-select-option",116),i()(),n(8,"div",117)(9,"div",118),h(10,"ion-icon",119)(11,"ion-icon",120)(12,"ion-icon",121),i(),n(13,"p",122),r(14," We accept "),n(15,"strong"),r(16,"GCash"),i(),r(17,", "),n(18,"strong"),r(19,"GrabPay"),i(),r(20,", and "),n(21,"strong"),r(22,"PayMaya"),i(),r(23," for down payments. Available options will be shown during checkout. "),i()()()}if(c&2){let e=m(2);s(6),w("ngModel",e.paymentMethod),s(),p("ngForOf",e.paymentMethods)}}function gt(c,g){if(c&1&&(n(0,"ion-card",124)(1,"ion-card-header")(2,"ion-card-title",12),h(3,"ion-icon",125),r(4," Cost Summary "),i()(),n(5,"ion-card-content")(6,"div",126)(7,"span"),r(8,"Total Cost:"),i(),n(9,"span",127),r(10),A(11,"number"),i()(),n(12,"div",128)(13,"span"),r(14,"Down Payment (50%):"),i(),n(15,"span",127),r(16),A(17,"number"),i()(),n(18,"div",129)(19,"span"),r(20,"Remaining Amount:"),i(),n(21,"span",127),r(22),A(23,"number"),i()(),n(24,"div",130),h(25,"ion-icon",98),n(26,"span"),r(27,"You need to pay the down payment to confirm your booking. The remaining amount will be paid upon vehicle pickup."),i()()()()),c&2){let e=m(2);s(10),M("\u20B1",V(11,3,e.totalCost,"1.2-2"),""),s(6),M("\u20B1",V(17,6,e.downPayment,"1.2-2"),""),s(6),M("\u20B1",V(23,9,e.remainingAmount,"1.2-2"),"")}}function ht(c,g){c&1&&(n(0,"p"),r(1,"Redirecting to payment page..."),i())}function ft(c,g){c&1&&(n(0,"p",136),r(1,"Payment confirmed! Redirecting..."),i())}function _t(c,g){c&1&&(n(0,"p",137),r(1,"Payment failed. Please try again."),i())}function ut(c,g){if(c&1&&(n(0,"ion-card",131)(1,"ion-card-content")(2,"div",132),h(3,"ion-icon",133),n(4,"div")(5,"h3"),r(6,"Payment in Progress"),i(),b(7,ht,2,0,"p",70)(8,ft,2,0,"p",134)(9,_t,2,0,"p",135),i()()()()),c&2){let e=m(2);s(7),p("ngIf",e.paymentStatus==="pending"),s(),p("ngIf",e.paymentStatus==="paid"),s(),p("ngIf",e.paymentStatus==="failed")}}function xt(c,g){c&1&&h(0,"ion-spinner",138)}function bt(c,g){if(c&1&&(n(0,"span"),r(1),i()),c&2){let e=m(2);s(),T(e.isProcessingPayment?"Processing...":"Proceed to Payment")}}function yt(c,g){c&1&&(n(0,"span"),r(1,"Payment in Progress..."),i())}function vt(c,g){if(c&1){let e=O();n(0,"div",29),b(1,He,39,20,"ion-card",30),n(2,"ion-card",31)(3,"ion-card-header")(4,"ion-card-title",12),h(5,"ion-icon",32),r(6," Rental Schedule "),i()(),n(7,"ion-card-content"),b(8,qe,4,1,"div",33),n(9,"div",34)(10,"div",35)(11,"ion-item",24)(12,"ion-label",17),r(13,"Start Date "),n(14,"span",18),r(15,"*"),i()(),n(16,"ion-input",36),S("ngModelChange",function(t){_(e);let a=m();return k(a.rentFromDate,t)||(a.rentFromDate=t),u(t)}),P("ionChange",function(){_(e);let t=m();return u(t.onDateChange())})("ionFocus",function(){_(e);let t=m();return u(t.onDateFocus())}),i(),h(17,"ion-icon",37),i(),b(18,Ye,4,0,"div",38),i(),n(19,"div",35)(20,"ion-item",24)(21,"ion-label",17),r(22,"End Date "),n(23,"span",18),r(24,"*"),i()(),n(25,"ion-input",39),S("ngModelChange",function(t){_(e);let a=m();return k(a.rentToDate,t)||(a.rentToDate=t),u(t)}),P("ionChange",function(){_(e);let t=m();return u(t.onDateChange())})("ionFocus",function(){_(e);let t=m();return u(t.onDateFocus())}),i(),h(26,"ion-icon",37),i(),b(27,Ge,4,0,"div",38),i()(),b(28,Qe,6,1,"div",40)(29,Je,4,0,"div",41)(30,Ke,4,0,"div",42)(31,Xe,4,1,"div",43)(32,Ze,4,1,"div",33)(33,et,4,1,"div",44)(34,tt,4,1,"div",43),n(35,"ion-item",45)(36,"ion-label",17),r(37,"Time of Rent "),n(38,"span",18),r(39,"*"),i()(),n(40,"ion-input",46),S("ngModelChange",function(t){_(e);let a=m();return k(a.rentTime,t)||(a.rentTime=t),u(t)}),P("ionChange",function(){_(e);let t=m();return u(t.onTimeChange())}),i(),h(41,"ion-icon",47),i(),b(42,nt,4,1,"div",38),i()(),n(43,"ion-card",31)(44,"ion-card-header")(45,"ion-card-title",12),h(46,"ion-icon",48),r(47," Location & Purpose "),i()(),n(48,"ion-card-content")(49,"ion-item",24)(50,"ion-label",17),r(51,"Location "),n(52,"span",18),r(53,"*"),i()(),n(54,"ion-input",49),S("ngModelChange",function(t){_(e);let a=m();return k(a.destination,t)||(a.destination=t),u(t)}),i()(),n(55,"ion-item",24)(56,"ion-label",17),r(57,"Occasion"),i(),n(58,"ion-input",50),S("ngModelChange",function(t){_(e);let a=m();return k(a.occasion,t)||(a.occasion=t),u(t)}),i()(),n(59,"ion-item",24)(60,"ion-label",17),r(61,"Message"),i(),n(62,"ion-textarea",51),S("ngModelChange",function(t){_(e);let a=m();return k(a.message,t)||(a.message=t),u(t)}),i()()()(),n(63,"ion-card",31)(64,"ion-card-header")(65,"ion-card-title",12),h(66,"ion-icon",52),r(67," Verification & Payment "),i()(),n(68,"ion-card-content")(69,"div",53),b(70,at,13,2,"div",54)(71,ct,11,2,"div",54),n(72,"div",55)(73,"input",56),P("change",function(t){_(e);let a=m();return u(a.onFileChange(t,"additional"))}),i(),n(74,"label",57),h(75,"ion-icon",58),n(76,"div",59)(77,"span",60),r(78,"Additional Valid ID (Government-issued) "),n(79,"span",18),r(80,"*"),i()(),n(81,"span",61),r(82,"Click or drag to upload"),i()(),b(83,st,1,0,"ion-icon",62),i(),b(84,dt,2,1,"div",63),i()(),b(85,mt,24,2,"div",64),i()(),b(86,gt,28,12,"ion-card",65),n(87,"div",66),b(88,ut,10,3,"ion-card",67),n(89,"ion-button",68),P("click",function(){_(e);let t=m();return u(t.proceedToPayment())}),b(90,xt,1,0,"ion-spinner",69)(91,bt,2,1,"span",70)(92,yt,2,0,"span",70),i()()()}if(c&2){let e=m();s(),p("ngIf",e.vehicle),s(7),p("ngIf",e.companyAvailability.length>0),s(8),w("ngModel",e.rentFromDate),p("min",e.minDate)("readonly",e.loadingAvailability),s(2),p("ngIf",e.rentFromDate&&!e.isDateAvailableForSelection(e.rentFromDate)),s(7),w("ngModel",e.rentToDate),p("min",e.rentFromDate||e.minDate)("readonly",e.loadingAvailability||!e.rentFromDate)("disabled",!e.rentFromDate),s(2),p("ngIf",e.rentToDate&&!e.isDateAvailableForSelection(e.rentToDate)),s(),p("ngIf",e.rentFromDate&&e.rentToDate),s(),p("ngIf",e.rentFromDate&&!e.companyAvailability.length),s(),p("ngIf",e.rentFromDate&&e.loadingAvailability),s(),p("ngIf",e.rentFromDate&&e.availabilityError),s(),p("ngIf",e.rentFromDate&&e.selectedDateAvailability&&e.selectedDateAvailability.isAvailable),s(),p("ngIf",e.rentFromDate&&e.companyAvailability.length>0&&e.getAvailableTimeSlots(e.rentFromDate).length>0),s(),p("ngIf",e.rentFromDate&&e.getAvailableTimeSlots(e.rentFromDate).length===0),s(6),w("ngModel",e.rentTime),p("readonly",!e.rentFromDate)("disabled",!e.rentFromDate),s(2),p("ngIf",e.rentTime&&e.rentFromDate&&!e.isTimeAvailableForSelection(e.rentTime)),s(12),w("ngModel",e.destination),s(4),w("ngModel",e.occasion),s(4),w("ngModel",e.message),s(8),p("ngIf",e.serviceType==="Self Drive"),s(),p("ngIf",e.serviceType==="Pick-up/Drop-off"),s(12),p("ngIf",e.additionalIdPreview),s(),p("ngIf",e.additionalIdPreview),s(),p("ngIf",e.totalCost>0),s(),p("ngIf",e.totalCost>0),s(2),p("ngIf",e.paymentInitiated),s(),p("disabled",!e.rentFromDate||!e.rentToDate||!e.rentTime||!e.destination||e.serviceType==="Self Drive"&&!e.validIdFile||!e.additionalIdFile||e.userRentalCount>=e.maxRentals||e.isProcessingPayment||e.paymentInitiated),s(),p("ngIf",e.isProcessingPayment),s(),p("ngIf",!e.paymentInitiated),s(),p("ngIf",e.paymentInitiated)}}function Pt(c,g){c&1&&(n(0,"div",153),r(1,"Drive the vehicle yourself"),i())}function Ct(c,g){c&1&&(n(0,"div",153),r(1,"We provide a driver for you"),i())}function Mt(c,g){if(c&1){let e=O();n(0,"div",148),P("click",function(){let t=_(e).$implicit,a=m(2);return u(a.selectServiceType(t))}),h(1,"div",149),n(2,"div",150)(3,"div",151),r(4),i(),b(5,Pt,2,0,"div",152)(6,Ct,2,0,"div",152),i()()}if(c&2){let e=g.$implicit,o=m(2);W("selected",o.serviceType===e),s(4),T(e==="Pick-up/Drop-off"?"With Driver":e),s(),p("ngIf",e==="Self Drive"),s(),p("ngIf",e==="Pick-up/Drop-off")}}function Ot(c,g){if(c&1){let e=O();n(0,"div",139)(1,"div",140)(2,"div",141)(3,"h3"),r(4,"Select Service Type"),i()(),h(5,"div",142),n(6,"div",143),b(7,Mt,7,5,"div",144),i(),h(8,"div",142),n(9,"div",145)(10,"ion-button",146),P("click",function(){_(e);let t=m();return u(t.closeServiceTypeModal())}),r(11," Cancel "),i(),n(12,"ion-button",147),P("click",function(){_(e);let t=m();return u(t.confirmServiceType())}),r(13," OK "),i()()()()}if(c&2){let e=m();s(7),p("ngForOf",e.serviceOptions),s(5),p("disabled",!e.serviceType)}}function wt(c,g){c&1&&(n(0,"div",161),h(1,"ion-spinner",100),n(2,"p"),r(3,"Loading company rules..."),i()())}function kt(c,g){c&1&&(n(0,"div",162),h(1,"ion-icon",98),n(2,"h3"),r(3,"No Rules Available"),i(),n(4,"p"),r(5,"This company has not set any specific rules or policies."),i()())}function St(c,g){if(c&1&&(n(0,"div",168)(1,"div",169),h(2,"ion-icon",92),n(3,"h3"),r(4),i()(),n(5,"div",170)(6,"p"),r(7),i()()()),c&2){let e=g.$implicit;s(4),T(e.title),s(3),T(e.content)}}function Tt(c,g){if(c&1&&(n(0,"div",163)(1,"div",164),h(2,"ion-icon",165),n(3,"h2"),r(4,"Important Rules & Policies"),i(),n(5,"p"),r(6,"Please read and understand these rules before proceeding with your booking."),i()(),n(7,"div",166),b(8,St,8,2,"div",167),i()()),c&2){let e=m(2);s(8),p("ngForOf",e.companyRules)}}function Dt(c,g){if(c&1){let e=O();n(0,"ion-footer")(1,"ion-toolbar")(2,"ion-button",171),P("click",function(){_(e);let t=m(2);return u(t.acceptCompanyRules())}),h(3,"ion-icon",172),r(4," I Understand & Accept "),i()()()}}function It(c,g){if(c&1){let e=O();n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),r(3,"Company Rules & Policies"),i(),n(4,"ion-buttons",154)(5,"ion-button",155),P("click",function(){_(e);let t=m();return u(t.closeCompanyRulesModal())}),h(6,"ion-icon",156),i()()()(),n(7,"ion-content",157),b(8,wt,4,0,"div",158)(9,kt,6,0,"div",159)(10,Tt,9,1,"div",160),i(),b(11,Dt,5,0,"ion-footer",70)}if(c&2){let e=m();s(8),p("ngIf",e.loadingRules),s(),p("ngIf",!e.loadingRules&&e.companyRules.length===0),s(),p("ngIf",!e.loadingRules&&e.companyRules.length>0),s(),p("ngIf",!e.loadingRules)}}function Et(c,g){if(c&1){let e=O();n(0,"ion-header")(1,"ion-toolbar",173)(2,"ion-title"),r(3,"Login Required"),i(),n(4,"ion-buttons",154)(5,"ion-button",155),P("click",function(){_(e);let t=m();return u(t.closeLoginModal())}),h(6,"ion-icon",156),i()()()(),n(7,"ion-content",174)(8,"div",175),h(9,"ion-icon",176),n(10,"h2"),r(11,"Create an Account to Rent"),i(),n(12,"p"),r(13,"You need to be logged in to submit a rental request. Please create an account or login to continue."),i(),n(14,"ion-button",171),P("click",function(){_(e);let t=m();return u(t.goToLogin())}),h(15,"ion-icon",177),r(16," Log In "),i(),n(17,"ion-button",178),P("click",function(){_(e);let t=m();return u(t.goToRegister())}),h(18,"ion-icon",179),r(19," Create Account "),i(),n(20,"ion-button",180),P("click",function(){_(e);let t=m();return u(t.closeLoginModal())}),r(21," Continue Browsing "),i()()()}}function At(c,g){c&1&&h(0,"ion-icon",183)}function Vt(c,g){if(c&1){let e=O();n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),r(3,"Rental Terms & Conditions"),i()()(),n(4,"ion-content",4,1)(6,"div",181)(7,"h2"),r(8,"Important Rental Information"),i(),n(9,"h3"),r(10,"\u{1F4CB} Rental Requirements"),i(),n(11,"ul")(12,"li"),r(13,"Valid government-issued ID (Driver's License for Self Drive)"),i(),n(14,"li"),r(15,"Additional government-issued ID required"),i(),n(16,"li"),r(17,"Minimum age: 21 years old for Self Drive"),i(),n(18,"li"),r(19,"Valid credit card for security deposit"),i()(),n(20,"h3"),r(21,"\u26FD Gasoline Policy"),i(),n(22,"ul")(23,"li")(24,"strong"),r(25,"Gasoline Penalty:"),i(),r(26," \u20B1500 per 1/4 tank below return level"),i(),n(27,"li"),r(28,"Vehicle must be returned with the same fuel level as received"),i(),n(29,"li"),r(30,"Fuel gauge will be documented at pickup and return"),i(),n(31,"li"),r(32,"Additional charges apply for fuel below specified level"),i()(),n(33,"h3"),r(34,"\u{1F697} Damage & Insurance"),i(),n(35,"ul")(36,"li")(37,"strong"),r(38,"Damage Fee:"),i(),r(39," \u20B12,000 - \u20B110,000 depending on damage severity"),i(),n(40,"li"),r(41,"Comprehensive insurance coverage included"),i(),n(42,"li"),r(43,"Deductible applies for damage claims"),i(),n(44,"li"),r(45,"Pre-rental inspection required"),i(),n(46,"li"),r(47,"Photos will be taken before and after rental"),i()(),n(48,"h3"),r(49,"\u{1F4B0} Additional Charges"),i(),n(50,"ul")(51,"li")(52,"strong"),r(53,"Late Return:"),i(),r(54," \u20B1500 per hour after scheduled return time"),i(),n(55,"li")(56,"strong"),r(57,"Cleaning Fee:"),i(),r(58," \u20B1300 for excessive dirt/stains"),i(),n(59,"li")(60,"strong"),r(61,"Smoking Fee:"),i(),r(62," \u20B1500 if smoking detected"),i(),n(63,"li")(64,"strong"),r(65,"Pet Fee:"),i(),r(66," \u20B1200 if pets transported"),i(),n(67,"li")(68,"strong"),r(69,"Traffic Violations:"),i(),r(70," Customer responsible for all fines"),i()(),n(71,"h3"),r(72,"\u{1F4F1} Cancellation Policy"),i(),n(73,"ul")(74,"li"),r(75,"Free cancellation up to 24 hours before rental"),i(),n(76,"li"),r(77,"50% charge for cancellation within 24 hours"),i(),n(78,"li"),r(79,"No refund for same-day cancellations"),i()(),n(80,"h3"),r(81,"\u26A0\uFE0F Important Reminders"),i(),n(82,"ul")(83,"li"),r(84,"Inspect vehicle thoroughly before departure"),i(),n(85,"li"),r(86,"Report any damage immediately"),i(),n(87,"li"),r(88,"Keep emergency contact numbers handy"),i(),n(89,"li"),r(90,"Follow traffic rules and speed limits"),i(),n(91,"li"),r(92,"Return vehicle on time to avoid late fees"),i()(),n(93,"h3"),r(94,"\u{1F4DE} Contact Information"),i(),n(95,"p"),r(96,"For emergencies or questions:"),i(),n(97,"ul")(98,"li"),r(99,"Emergency: +63 931 728 7592"),i(),n(100,"li"),r(101,"Support: support@velorent.com"),i(),n(102,"li"),r(103,"Office Hours: 8:00 AM - 8:00 PM"),i()()()(),n(104,"ion-footer")(105,"ion-toolbar")(106,"ion-button",28),P("click",function(){_(e);let t=m();return u(t.closeTermsModal())}),b(107,At,1,0,"ion-icon",182),r(108),i()()()}if(c&2){let e=m();s(106),p("disabled",!e.hasScrolledToBottom),s(),p("ngIf",e.hasScrolledToBottom),s(),M(" ",e.hasScrolledToBottom?"I Agree to Terms & Conditions":"Please scroll down to the bottom to continue"," ")}}var Yt=(()=>{let g=class g{constructor(o,t,a,l,d,f){this.route=o,this.apiService=t,this.sanitizer=a,this.toastCtrl=l,this.modalCtrl=d,this.router=f,this.vehicleId=null,this.vehicle=null,this.step=1,this.fullName="",this.firstName="",this.lastName="",this.mobileNumber="",this.serviceType="",this.serviceOptions=["Self Drive","Pick-up/Drop-off"],this.rentFromDate="",this.rentToDate="",this.rentTime="",this.withDriver="",this.destination="",this.occasion="",this.message="",this.validIdFile=null,this.validIdPreview=null,this.additionalIdFile=null,this.additionalIdPreview=null,this.totalCost=0,this.downPayment=0,this.remainingAmount=0,this.paymentMethod="",this.paymentMethods=["GCash","GrabPay","PayMaya"],this.paymentInitiated=!1,this.paymentCheckoutUrl="",this.paymentStatus="pending",this.tempBookingId=null,this.isProcessingPayment=!1,this.driverOptions=["With Driver","Without Driver"],this.showTermsModal=!1,this.showServiceTypeModal=!1,this.showCompanyRulesModal=!1,this.showLoginModal=!1,this.hasScrolledToBottom=!1,this.scrollCheckInterval=null,this.companyRules=[],this.loadingRules=!1,this.companyAvailability=[],this.loadingAvailability=!1,this.availabilityError="",this.selectedDateAvailability=null,this.userRentalCount=0,this.maxRentals=3,this.minDate=new Date().toISOString().split("T")[0],this.maxDate="",this.unavailableDates=[],this.subscriptions=new H}ngOnInit(){this.prefillUserInfo(),this.route.queryParams.subscribe(o=>{if(this.vehicleId=o.vehicleId?+o.vehicleId:null,!this.vehicleId||isNaN(this.vehicleId)){this.showToast("No vehicle selected. Please choose a vehicle to rent.","danger"),this.router.navigate(["/vehicles"]);return}this.apiService.getVehicle(this.vehicleId).subscribe(t=>{this.vehicle=t,this.loadCompanyAvailability()})}),this.loadUserRentalCount()}ngAfterViewInit(){this.termsContent&&this.termsContent.ionScroll.subscribe(()=>{this.checkTermsScrollPosition()})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.stopScrollPolling()}nextStep(){if(this.fullName=[this.firstName,this.lastName].filter(Boolean).join(" ").trim(),!this.firstName||!this.lastName||!this.mobileNumber||!this.serviceType){this.showToast("Please fill in all required fields.");return}this.withDriver=this.serviceType,this.loadCompanyRules(),this.hasScrolledToBottom=!1,this.startScrollPolling()}startScrollPolling(){this.scrollCheckInterval&&clearInterval(this.scrollCheckInterval),this.scrollCheckInterval=setInterval(()=>{this.checkTermsScrollPosition(),this.hasScrolledToBottom&&(clearInterval(this.scrollCheckInterval),this.scrollCheckInterval=null)},100)}stopScrollPolling(){this.scrollCheckInterval&&(clearInterval(this.scrollCheckInterval),this.scrollCheckInterval=null)}prevStep(){this.step=1}checkTermsScrollPosition(){return E(this,null,function*(){if(this.termsContent){let o=yield this.termsContent.getScrollElement(),t=o.scrollTop,a=o.scrollHeight,l=o.clientHeight;t+l>=a-30&&(this.hasScrolledToBottom=!0)}})}closeTermsModal(){this.hasScrolledToBottom?(this.showTermsModal=!1,this.step=2,this.hasScrolledToBottom=!1,this.stopScrollPolling()):this.showToast("Please scroll to the bottom to read all terms and conditions.")}openServiceTypeModal(){this.showServiceTypeModal=!0}closeServiceTypeModal(){console.log("Closing modal, service type is:",this.serviceType),this.showServiceTypeModal=!1}selectServiceType(o){console.log("Selecting service type:",o),this.serviceType=o,console.log("Service type set to:",this.serviceType)}confirmServiceType(){console.log("Confirming service type:",this.serviceType),this.closeServiceTypeModal()}loadCompanyRules(){var o;if(!((o=this.vehicle)!=null&&o.company_id)){this.showToast("Vehicle company information not available.","danger");return}this.loadingRules=!0,this.apiService.getCompanyRules(this.vehicle.company_id).subscribe({next:t=>{this.companyRules=t.rules||[],this.loadingRules=!1,this.showCompanyRulesModal=!0,console.log("Company rules loaded:",this.companyRules)},error:t=>{console.error("Error loading company rules:",t),this.loadingRules=!1,this.showToast("Failed to load company rules. Proceeding without rules.","warning"),this.step=2}})}closeCompanyRulesModal(){this.showCompanyRulesModal=!1}acceptCompanyRules(){this.closeCompanyRulesModal(),this.step=2}onFileChange(o,t){let a=o.target.files[0];if(!a)return;if(!a.type.startsWith("image/")){this.showToast("Only image files are allowed.");return}if(a.size>10*1024*1024){this.showToast("File size must be less than 10 MB.");return}let l=new FileReader;l.onload=()=>{let d=this.sanitizer.bypassSecurityTrustUrl(l.result);t==="valid"?(this.validIdFile=a,this.validIdPreview=d):(this.additionalIdFile=a,this.additionalIdPreview=d)},l.readAsDataURL(a)}calculateTotalCost(){if(!this.rentFromDate||!this.rentToDate||!this.vehicle)return;let o=new Date(this.rentFromDate),t=new Date(this.rentToDate),a=Math.ceil((t.getTime()-o.getTime())/(1e3*60*60*24));if(a>0){let l=this.serviceType==="Self Drive"?this.vehicle.price_without_driver:this.vehicle.price_with_driver;this.totalCost=a*l,this.downPayment=this.totalCost/2,this.remainingAmount=this.totalCost-this.downPayment}else this.totalCost=0,this.downPayment=0,this.remainingAmount=0}onDateFocus(){(this.rentFromDate||this.rentToDate)&&this.validateSelectedDates()}onDateChange(){this.validateSelectedDates(),this.calculateTotalCost(),this.checkAvailability(),this.checkDateAvailability(),this.rentTime=""}validateSelectedDates(){if(!this.rentFromDate)return;let o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],t=new Date(this.rentFromDate),a=o[t.getDay()],l=this.companyAvailability.find(d=>d.dayOfWeek===a);if(!l||!l.isAvailable?(this.availabilityError=`Company is not available on ${this.formatDayName(a)}`,this.selectedDateAvailability={isAvailable:!1,message:this.availabilityError},this.rentFromDate="",this.rentToDate=""):this.availabilityError="",this.rentToDate){let d=new Date(this.rentToDate),f=o[d.getDay()],x=this.companyAvailability.find(y=>y.dayOfWeek===f);(!x||!x.isAvailable)&&(this.availabilityError=`Company is not available on ${this.formatDayName(f)}`,this.selectedDateAvailability={isAvailable:!1,message:this.availabilityError},this.rentToDate="")}}formatDayName(o){return{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}[o.toLowerCase()]||o}calculateDays(){if(!this.rentFromDate||!this.rentToDate)return 0;let o=new Date(this.rentFromDate),t=new Date(this.rentToDate),a=Math.ceil((t.getTime()-o.getTime())/(1e3*60*60*24));return a>0?a:0}checkDateAvailability(){return E(this,null,function*(){var o;if(!(!this.rentFromDate||!this.rentToDate||!((o=this.vehicle)!=null&&o.id)))try{this.loadingAvailability=!0,this.availabilityError="";let t=yield this.apiService.checkVehicleAvailability(this.vehicle.id,this.rentFromDate,this.rentToDate).toPromise();t.isAvailable?this.selectedDateAvailability={isAvailable:!0,message:"Vehicle is available for the selected dates."}:(this.availabilityError=t.message||"Vehicle is not available for the selected dates.",this.selectedDateAvailability={isAvailable:!1,message:this.availabilityError})}catch(t){console.error("Error checking date availability:",t),this.availabilityError="Error checking availability. Please try again.",this.selectedDateAvailability={isAvailable:!1,message:this.availabilityError}}finally{this.loadingAvailability=!1}})}onTimeChange(){this.rentTime&&this.rentFromDate&&(this.isTimeAvailableForSelection(this.rentTime)||console.warn("Selected time is not available:",this.rentTime)),this.checkAvailability()}checkAvailability(){return E(this,null,function*(){var o;if(!(!this.rentFromDate||!this.rentTime||!((o=this.vehicle)!=null&&o.company_id)))try{this.loadingAvailability=!0,this.availabilityError="";let a=new Date(this.rentFromDate).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),l=this.companyAvailability.find(d=>d.dayOfWeek===a);if(!l||!l.isAvailable)this.availabilityError="Company is not available on this day",this.selectedDateAvailability={isAvailable:!1,message:"Company is not available on this day"};else if(l.is24Hours)this.availabilityError="",this.selectedDateAvailability={isAvailable:!0,message:"Available 24 hours"};else{let d=v=>v?v.length>5?v.substring(0,5):v.length===5&&v.includes(":")?v:"00:00":"00:00",f=v=>{if(!v||!v.includes(":"))return 0;let z=v.split(":"),B=parseInt(z[0],10)||0,L=parseInt(z[1],10)||0;return B*60+L},x=d(this.rentTime),y=d(l.startTime||"00:00"),C=d(l.endTime||"23:59"),D=f(x),R=f(y),F=f(C);D>=R&&D<=F?(this.availabilityError="",this.selectedDateAvailability={isAvailable:!0,message:`Available from ${this.formatTimeForDisplay(l.startTime)} to ${this.formatTimeForDisplay(l.endTime)}`}):(this.availabilityError=`Not available at this time. Available from ${this.formatTimeForDisplay(l.startTime)} to ${this.formatTimeForDisplay(l.endTime)}`,this.selectedDateAvailability={isAvailable:!1,message:`Not available at this time. Available from ${this.formatTimeForDisplay(l.startTime)} to ${this.formatTimeForDisplay(l.endTime)}`})}}catch(t){console.error("Error checking availability:",t),this.availabilityError="Error checking availability. Please try again."}finally{this.loadingAvailability=!1}})}loadCompanyAvailability(){return E(this,null,function*(){var o;if(!((o=this.vehicle)!=null&&o.company_id)){console.log("No vehicle or company_id found");return}try{console.log("Loading company availability for company_id:",this.vehicle.company_id),this.loadingAvailability=!0;let t=yield this.apiService.getCompanyAvailability(this.vehicle.company_id).toPromise();console.log("Company availability response:",t),this.companyAvailability=t.availability||[],console.log("Set companyAvailability to:",this.companyAvailability),this.companyAvailability.length===0&&(console.log("No availability data found, creating default schedule"),this.companyAvailability=[{dayOfWeek:"monday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"tuesday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"wednesday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"thursday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"friday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"saturday",isAvailable:!1,startTime:null,endTime:null,is24Hours:!1},{dayOfWeek:"sunday",isAvailable:!1,startTime:null,endTime:null,is24Hours:!1}]),this.generateUnavailableDates()}catch(t){console.error("Error loading company availability:",t),this.companyAvailability=[{dayOfWeek:"monday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"tuesday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"wednesday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"thursday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"friday",isAvailable:!0,startTime:"09:00:00",endTime:"17:00:00",is24Hours:!1},{dayOfWeek:"saturday",isAvailable:!1,startTime:null,endTime:null,is24Hours:!1},{dayOfWeek:"sunday",isAvailable:!1,startTime:null,endTime:null,is24Hours:!1}],this.generateUnavailableDates()}finally{this.loadingAvailability=!1}})}generateUnavailableDates(){this.unavailableDates=[];let o=new Date,t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(let a=0;a<60;a++){let l=new Date(o);l.setDate(o.getDate()+a);let d=t[l.getDay()],f=this.companyAvailability.find(x=>x.dayOfWeek===d);(!f||!f.isAvailable)&&this.unavailableDates.push(l.toISOString().split("T")[0])}console.log("Unavailable dates based on company schedule:",this.unavailableDates)}loadUserRentalCount(){this.apiService.getMyBookings().subscribe({next:o=>{this.userRentalCount=o.length,console.log("User rental count:",this.userRentalCount)},error:o=>{console.error("Error loading user rental count:",o),this.userRentalCount=0}})}isDateAvailable(o){if(!this.companyAvailability.length)return!0;let a=new Date(o).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),l=this.companyAvailability.find(d=>d.dayOfWeek===a);return l?l.isAvailable:!1}getAvailableTimeSlots(o){if(!this.companyAvailability.length)return[];let a=new Date(o).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),l=this.companyAvailability.find(y=>y.dayOfWeek===a);if(!l||!l.isAvailable)return[];if(l.is24Hours){let y=[];for(let C=0;C<24;C++)y.push(`${C.toString().padStart(2,"0")}:00`);return y}let d=[],f=parseInt(l.startTime.split(":")[0]),x=parseInt(l.endTime.split(":")[0]);for(let y=f;y<=x;y++)d.push(`${y.toString().padStart(2,"0")}:00`);return d}getAvailableDates(){if(console.log("getAvailableDates called, companyAvailability:",this.companyAvailability),!this.companyAvailability.length)return console.log("No availability data, returning empty array"),[];let o=[],t=new Date;for(let a=0;a<30;a++){let l=new Date(t);l.setDate(t.getDate()+a);let d=l.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),f=l.toISOString().split("T")[0],x=this.companyAvailability.find(y=>y.dayOfWeek===d);console.log(`Checking ${d} (${f}):`,x),x&&x.isAvailable&&o.push(f)}return console.log("Available dates:",o),o}isDateAvailableForSelection(o){if(!this.companyAvailability.length)return!0;let a=new Date(o).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),l=this.companyAvailability.find(d=>d.dayOfWeek===a);return l?l.isAvailable:!1}isTimeAvailableForSelection(o){if(!this.rentFromDate||!this.companyAvailability.length||!o)return!0;let a=new Date(this.rentFromDate).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),l=this.companyAvailability.find(v=>v.dayOfWeek===a);if(!l||!l.isAvailable)return!1;if(l.is24Hours)return!0;let d=v=>v?v.length>5?v.substring(0,5):v.length===5&&v.includes(":")?v:"00:00":"00:00",f=d(o),x=d(l.startTime||"00:00"),y=d(l.endTime||"23:59"),C=v=>{if(!v||!v.includes(":"))return 0;let z=v.split(":"),B=parseInt(z[0],10)||0,L=parseInt(z[1],10)||0;return B*60+L},D=C(f),R=C(x),F=C(y);return console.log("Time validation:",{requestedTime:f,startTime:x,endTime:y,requestedMinutes:D,startMinutes:R,endMinutes:F,isValid:D>=R&&D<=F}),D>=R&&D<=F}getAvailableEndDates(){if(!this.rentFromDate)return[];let o=this.getAvailableDates(),t=new Date(this.rentFromDate);return o.filter(a=>new Date(a)>=t)}formatDateForDisplay(o){if(console.log("formatDateForDisplay called with:",o),!o||o===""||o==="Invalid Date")return console.log("Invalid or empty date string:",o),"Invalid Date";let t=new Date(o);if(console.log("Parsed date:",t,"isValid:",!isNaN(t.getTime())),isNaN(t.getTime()))return console.error("Invalid date string:",o),"Invalid Date";let a=new Date,l=new Date(a);if(l.setDate(a.getDate()+1),t.toDateString()===a.toDateString())return`Today (${t.toLocaleDateString("en-US",{month:"short",day:"numeric"})})`;if(t.toDateString()===l.toDateString())return`Tomorrow (${t.toLocaleDateString("en-US",{month:"short",day:"numeric"})})`;if(Math.ceil((t.getTime()-a.getTime())/(1e3*60*60*24))<=7)return`${t.toLocaleDateString("en-US",{weekday:"short"})} ${t.getDate()}/${t.getMonth()+1}`;let f=t.toLocaleDateString("en-US",{weekday:"short"}),x=t.toLocaleDateString("en-US",{month:"short"}),y=t.getDate();return`${f} ${x} ${y}`}formatTimeForDisplay(o){let[t,a]=o.split(":"),l=parseInt(t),d=l>=12?"PM":"AM",f=l%12||12,x="";return l>=6&&l<12?x=" (Morning)":l>=12&&l<17?x=" (Afternoon)":l>=17&&l<21?x=" (Evening)":x=" (Night)",`${f}:${a} ${d}${x}`}formatTimeForClock(o){if(!o)return"";let[t,a]=o.split(":"),l=parseInt(t),d=l>=12?"PM":"AM";return`${l%12||12}:${a} ${d}`}getTimePeriod(o){if(!o)return"";let[t]=o.split(":"),a=parseInt(t);return a>=6&&a<12?"Morning":a>=12&&a<17?"Afternoon":a>=17&&a<21?"Evening":"Night"}isMorningTime(o){if(!o)return!1;let[t]=o.split(":"),a=parseInt(t);return a>=6&&a<12}isAfternoonTime(o){if(!o)return!1;let[t]=o.split(":"),a=parseInt(t);return a>=12&&a<17}isEveningTime(o){if(!o)return!1;let[t]=o.split(":"),a=parseInt(t);return a>=17&&a<21}isNightTime(o){if(!o)return!1;let[t]=o.split(":"),a=parseInt(t);return a>=21||a<6}getMinTime(){if(!this.rentFromDate||!this.companyAvailability.length)return"00:00";let t=new Date(this.rentFromDate).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),a=this.companyAvailability.find(d=>d.dayOfWeek===t);if(!a||!a.isAvailable||a.is24Hours)return"00:00";let l=a.startTime||"";return l.length>=5?l.substring(0,5):"00:00"}getMaxTime(){if(!this.rentFromDate||!this.companyAvailability.length)return"23:59";let t=new Date(this.rentFromDate).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),a=this.companyAvailability.find(d=>d.dayOfWeek===t);if(!a||!a.isAvailable||a.is24Hours)return"23:59";let l=a.endTime||"";return l.length>=5?l.substring(0,5):"23:59"}getAvailableDaysText(){if(!this.companyAvailability.length)return"Loading availability...";let o=this.companyAvailability.filter(t=>t.isAvailable).map(t=>t.dayOfWeek.charAt(0).toUpperCase()+t.dayOfWeek.slice(1));return o.length===0?"No days available":o.length===7?"Every day":o.length===5&&o.includes("Monday")&&o.includes("Friday")&&!o.includes("Saturday")&&!o.includes("Sunday")?"Monday - Friday":o.join(", ")}getAvailableTimeRangeText(o){if(!o||!this.companyAvailability.length)return"";let a=new Date(o).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),l=this.companyAvailability.find(C=>C.dayOfWeek===a);if(!l||!l.isAvailable)return"No times available";if(l.is24Hours)return"24 Hours";let d=this.formatTimeForDisplay(l.startTime),f=this.formatTimeForDisplay(l.endTime),x=d.split(" (")[0],y=f.split(" (")[0];return`${x} - ${y}`}showToast(o,t="danger"){return E(this,null,function*(){(yield this.toastCtrl.create({message:o,duration:3e3,color:t})).present()})}showLoginPrompt(){this.showLoginModal=!0}closeLoginModal(){this.showLoginModal=!1}goToLogin(){this.router.navigate(["/login"])}goToRegister(){this.router.navigate(["/register"])}validateBookingForm(){return!this.vehicleId||!this.rentFromDate||!this.rentToDate||!this.rentTime||!this.withDriver||!this.destination?(this.showToast("Please fill in all required fields.","danger"),!1):this.additionalIdFile?this.paymentMethod?!0:(this.showToast("Please select a payment method for the down payment.","danger"),!1):(this.showToast("Please upload an additional valid ID.","danger"),!1)}proceedToPayment(){this.fullName=[this.firstName,this.lastName].filter(Boolean).join(" ").trim();let o=localStorage.getItem("user"),t=localStorage.getItem("token");if(!o||!t){this.showLoginPrompt();return}if(this.userRentalCount>=this.maxRentals){this.showToast("You have reached the maximum limit of 3 rentals. Please contact support if you need to make additional bookings.","danger");return}if(!this.validateBookingForm()||(this.calculateTotalCost(),this.isProcessingPayment))return;this.isProcessingPayment=!0;let a=new FormData;a.append("vehicleId",this.vehicleId.toString()),a.append("fullName",this.fullName),a.append("mobileNumber",this.mobileNumber),a.append("serviceType",this.serviceType),a.append("rentFromDate",this.rentFromDate),a.append("rentToDate",this.rentToDate),a.append("rentTime",this.rentTime),a.append("withDriver",this.withDriver),a.append("destination",this.destination),a.append("occasion",this.occasion),a.append("message",this.message),a.append("totalCost",this.totalCost.toString()),a.append("downPayment",this.downPayment.toString()),a.append("remainingAmount",this.remainingAmount.toString()),a.append("paymentMethod",this.paymentMethod),this.validIdFile&&a.append("validId",this.validIdFile),this.additionalIdFile&&a.append("additionalId",this.additionalIdFile),this.apiService.createRentalWithFiles(a).subscribe({next:l=>{var f,x;console.log("=== BOOKING CREATED RESPONSE ==="),console.log("Full response:",l),console.log("Response type:",typeof l),console.log("Response keys:",Object.keys(l||{}));let d=null;if(l&&(d=l.booking_id||l.id||l.bookingId||((f=l.data)==null?void 0:f.booking_id)||((x=l.data)==null?void 0:x.id)||(l.insertId?l.insertId:null)),console.log("Extracted booking ID:",d),!d||isNaN(Number(d))){console.error("Could not extract valid booking ID from response"),console.error("Response structure:",JSON.stringify(l,null,2)),this.getLatestBookingAndCreatePayment();return}this.tempBookingId=Number(d),this.createPaymentForBooking(Number(d))},error:l=>{var f,x;this.isProcessingPayment=!1,console.error("Error creating booking:",l),console.error("Error response:",l.error),(((f=l==null?void 0:l.error)==null?void 0:f.error)||((x=l==null?void 0:l.error)==null?void 0:x.message)||"").includes("pending or ongoing booking")?this.getLatestBookingAndCreatePayment():this.handleBookingError(l)}})}getLatestBookingAndCreatePayment(){console.log("Attempting to get latest booking..."),this.apiService.getMyBookings().subscribe({next:o=>{if(o&&o.length>0){let a=o[0].id;console.log("Found latest booking ID:",a),a?(this.tempBookingId=a,this.createPaymentForBooking(a)):(this.showToast("Could not find booking. Please check My Rentals and try payment from there.","warning"),this.isProcessingPayment=!1,setTimeout(()=>{this.router.navigate(["/my-rentals"])},3e3))}else this.showToast("Booking may have been created but could not be found. Please check My Rentals.","warning"),this.isProcessingPayment=!1,setTimeout(()=>{this.router.navigate(["/my-rentals"])},3e3)},error:o=>{console.error("Error fetching bookings:",o),this.showToast("Could not retrieve booking. Please check My Rentals manually.","warning"),this.isProcessingPayment=!1,setTimeout(()=>{this.router.navigate(["/my-rentals"])},3e3)}})}createPaymentForBooking(o){this.apiService.createPayment(this.downPayment,o).subscribe({next:t=>{this.paymentCheckoutUrl=t.checkout_url,this.paymentInitiated=!0,this.isProcessingPayment=!1,this.paymentCheckoutUrl?(sessionStorage.setItem("pendingPaymentBookingId",o.toString()),window.location.href=this.paymentCheckoutUrl):this.showToast("Payment URL not received. Please try again.","danger")},error:t=>{this.isProcessingPayment=!1,console.error("=== PAYMENT ERROR DEBUG ==="),console.error("Full error object:",t);let a="Failed to create payment. ",l=t.error||t;if(l!=null&&l.message)a+=l.message;else if(l!=null&&l.error)a+=l.error;else if(l!=null&&l.details&&Array.isArray(l.details)&&l.details.length>0)a+=l.details[0];else if(l!=null&&l.paymongo_error){let d=l.paymongo_error;Array.isArray(d)&&d.length>0?a+=d[0].detail||d[0].message||JSON.stringify(d[0]):d.message?a+=d.message:a+=JSON.stringify(d)}else a+="Please check your PayMongo API key configuration.",console.error("Full error structure:",JSON.stringify(l,null,2));a.includes("API key")&&a.includes("does not exist")&&(a+=" Please update your PayMongo secret key in backend/config.env file."),console.error("Final error message:",a),this.showToast(a,"danger")}})}startPaymentStatusPolling(o){let a=0,l=setInterval(()=>{a++,this.apiService.getPaymentStatus(o).subscribe({next:d=>{d.status==="paid"?(clearInterval(l),this.paymentStatus="paid",this.showToast("Payment confirmed! Your booking has been submitted successfully.","success"),setTimeout(()=>{this.router.navigate(["/my-rentals"])},2e3)):d.status==="failed"&&(clearInterval(l),this.paymentStatus="failed",this.showToast("Payment failed. Please try again.","danger"))},error:d=>{console.error("Error checking payment status:",d)}}),a>=60&&(clearInterval(l),this.showToast("Payment verification timeout. Please check your booking status in My Rentals.","warning"))},5e3)}handleBookingError(o){var a,l,d,f,x,y;if((o==null?void 0:o.status)===401||(l=(a=o==null?void 0:o.error)==null?void 0:a.message)!=null&&l.includes("token")||(f=(d=o==null?void 0:o.error)==null?void 0:d.message)!=null&&f.includes("Token")){this.showToast("Your session has expired. Please log in again.","danger"),localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{this.router.navigate(["/login"])},2e3);return}let t=((x=o==null?void 0:o.error)==null?void 0:x.error)||((y=o==null?void 0:o.error)==null?void 0:y.message)||(o==null?void 0:o.message)||"";if(t.includes("pending or ongoing booking"))this.showToast("You already have a pending or ongoing booking. Please complete or cancel it before making a new booking.","danger");else if(t.includes("maximum limit of 3 rentals"))this.showToast("You have reached the maximum limit of 3 rentals. Please contact support if you need to make additional bookings.","danger");else{let C=t||"Failed to create booking. Please try again.";this.showToast(C,"danger")}}submitBooking(){this.proceedToPayment()}prefillUserInfo(){try{let o=localStorage.getItem("user");if(!o)return;let t=JSON.parse(o),a=(t==null?void 0:t.name)||"";if(a){let l=a.trim().split(/\s+/);this.firstName=l.shift()||"",this.lastName=l.join(" "),this.fullName=[this.firstName,this.lastName].filter(Boolean).join(" ").trim()}}catch(o){console.warn("Could not prefill user info",o)}}};g.\u0275fac=function(t){return new(t||g)(I(le),I(ze),I(X),I(Re),I(Ve),I(ce))},g.\u0275cmp=q({type:g,selectors:[["app-rent-vehicle"]],viewQuery:function(t,a){if(t&1&&(U(Ne,5),U(We,5)),t&2){let l;j(l=$())&&(a.scrollContent=l.first),j(l=$())&&(a.termsContent=l.first)}},standalone:!0,features:[Y],decls:19,vars:11,consts:[["bookingForm","ngForm"],["termsContent",""],["slot","start"],[3,"defaultHref"],[1,"ion-padding"],["class","step1-container",4,"ngIf"],["class","step2-container",4,"ngIf"],[1,"service-type-modal",3,"isOpen","backdropDismiss"],["data-modal","company-rules",3,"isOpen","backdropDismiss"],[3,"isOpen","backdropDismiss"],[1,"step1-container"],[1,"personal-info-card"],[1,"section-title"],["name","person-outline"],[1,"section-subtitle"],[1,"name-row"],[1,"form-field-item","first-name-field"],["position","stacked"],[1,"required"],["type","text","name","firstName","required","",3,"ngModelChange","ngModel"],[1,"form-field-item","last-name-field"],["type","text","name","lastName","required","",3,"ngModelChange","ngModel"],[1,"form-field-item","mobile-field"],["type","tel","name","mobileNumber","required","","maxlength","15",3,"ngModelChange","ngModel"],[1,"form-field-item"],["name","serviceType","placeholder","Select service type","required","",3,"ngModelChange","ngModel"],["value","Self Drive"],["value","Pick-up/Drop-off"],["expand","block",1,"btn-primary-modern",3,"click","disabled"],[1,"step2-container"],["class","form-section-card",4,"ngIf"],[1,"form-section-card"],["name","calendar-outline"],["class","availability-banner success",4,"ngIf"],[1,"date-fields-grid"],[1,"date-field-wrapper"],["type","date","name","rentFromDate",3,"ngModelChange","ionChange","ionFocus","ngModel","min","readonly"],["name","calendar-outline","slot","end"],["class","inline-error",4,"ngIf"],["type","date","name","rentToDate",3,"ngModelChange","ionChange","ionFocus","ngModel","min","readonly","disabled"],["class","rental-duration-banner",4,"ngIf"],["class","availability-banner warning",4,"ngIf"],["class","availability-banner loading",4,"ngIf"],["class","availability-banner error",4,"ngIf"],["class","availability-banner info",4,"ngIf"],[1,"form-field-item","time-field"],["type","time","name","rentTime",3,"ngModelChange","ionChange","ngModel","readonly","disabled"],["name","time-outline","slot","end"],["name","location-outline"],["type","text","name","destination","placeholder","Enter pickup/delivery location","required","",3,"ngModelChange","ngModel"],["type","text","name","occasion","placeholder","e.g., Wedding, Business Trip, Vacation",3,"ngModelChange","ngModel"],["name","message","placeholder","Any special requests or additional information...",3,"ngModelChange","ngModel"],["name","shield-checkmark-outline"],[1,"upload-section"],["class","upload-box",4,"ngIf"],[1,"upload-box"],["type","file","id","additionalIdInput","accept","image/*","required","",1,"file-input",3,"change"],["for","additionalIdInput",1,"upload-label"],["name","document-attach-outline",1,"upload-icon"],[1,"upload-text"],[1,"upload-title"],[1,"upload-hint"],["name","checkmark-circle","class","upload-success",4,"ngIf"],["class","image-preview",4,"ngIf"],["class","payment-section",4,"ngIf"],["class","cost-breakdown form-section-card",4,"ngIf"],[1,"form-actions"],["class","payment-status-card",4,"ngIf"],["expand","block","type","button",1,"btn-primary-modern","book-vehicle-button",3,"click","disabled"],["name","crescent","slot","start",4,"ngIf"],[4,"ngIf"],["name","car-outline"],[1,"vehicle-image-container"],[3,"error","src","alt"],[1,"image-gradient-overlay"],["color","success","class","vehicle-status-badge",4,"ngIf"],["color","warning","class","vehicle-status-badge",4,"ngIf"],[1,"vehicle-info-header"],[1,"vehicle-name"],[1,"vehicle-type"],[1,"pricing-details"],[1,"price-row",3,"click"],["name","car-sport-outline"],[1,"price-info"],[1,"price-label"],[1,"price-amount"],[1,"price-unit"],["name","checkmark-circle","class","check-icon",4,"ngIf"],["color","success",1,"vehicle-status-badge"],["color","warning",1,"vehicle-status-badge"],["name","checkmark-circle",1,"check-icon"],[1,"availability-banner","success"],["name","checkmark-circle-outline"],[1,"inline-error"],["name","close-circle-outline"],[1,"rental-duration-banner"],["name","calendar"],[1,"availability-banner","warning"],["name","information-circle-outline"],[1,"availability-banner","loading"],["name","crescent"],[1,"availability-banner","error"],["name","warning-outline"],[1,"availability-banner","info"],["name","time-outline"],["type","file","id","validIdInput","accept","image/*","required","",1,"file-input",3,"change"],["for","validIdInput",1,"upload-label"],["name","checkmark-circle",1,"upload-success"],[1,"image-preview"],["alt","Valid ID Preview",3,"src"],["type","file","id","validIdInputPickup","accept","image/*",1,"file-input",3,"change"],["for","validIdInputPickup",1,"upload-label"],["alt","Additional ID Preview",3,"src"],[1,"payment-section"],[1,"form-field-item","payment-select-item"],["name","paymentMethod","placeholder","Select payment method","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"payment-info-box"],[1,"payment-icons"],["name","wallet-outline",1,"payment-icon","gcash-icon"],["name","card-outline",1,"payment-icon","grabpay-icon"],["name","cash-outline",1,"payment-icon","paymaya-icon"],[1,"payment-info-text"],[3,"value"],[1,"cost-breakdown","form-section-card"],["name","receipt-outline"],[1,"cost-item"],[1,"amount"],[1,"cost-item","down-payment"],[1,"cost-item","remaining"],[1,"payment-note"],[1,"payment-status-card"],[1,"payment-status"],["name","card-outline","color","primary"],["color","success",4,"ngIf"],["color","danger",4,"ngIf"],["color","success"],["color","danger"],["name","crescent","slot","start"],[1,"service-modal-shell"],[1,"service-modal-card"],[1,"service-modal-header"],[1,"service-modal-divider"],[1,"service-modal-body"],["class","service-radio",3,"selected","click",4,"ngFor","ngForOf"],[1,"service-modal-footer"],["fill","outline","color","medium",1,"btn-cancel",3,"click"],["color","warning",1,"btn-ok",3,"click","disabled"],[1,"service-radio",3,"click"],[1,"radio-indicator"],[1,"radio-label"],[1,"radio-title"],["class","radio-sub",4,"ngIf"],[1,"radio-sub"],["slot","end"],[3,"click"],["name","close"],[1,"company-rules-content"],["class","loading-container",4,"ngIf"],["class","no-rules",4,"ngIf"],["class","rules-container",4,"ngIf"],[1,"loading-container"],[1,"no-rules"],[1,"rules-container"],[1,"rules-header"],["name","document-text-outline"],[1,"rules-list"],["class","rule-item",4,"ngFor","ngForOf"],[1,"rule-item"],[1,"rule-header"],[1,"rule-content"],["expand","block",1,"btn-primary-modern",3,"click"],["name","checkmark-circle","slot","start"],["color","primary"],[1,"ion-padding","login-modal-content"],[1,"login-prompt"],["name","log-in-outline","color","primary","size","large"],["name","log-in","slot","start"],["expand","block",1,"btn-secondary-modern",3,"click"],["name","person-add","slot","start"],["expand","block","fill","clear",2,"--color","#D4AF37",3,"click"],[1,"terms-content"],["name","checkmark-outline","slot","start",4,"ngIf"],["name","checkmark-outline","slot","start"]],template:function(t,a){t&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),h(3,"ion-back-button",3),i(),n(4,"ion-title"),r(5,"Rent Vehicle"),i()()(),n(6,"ion-content",4)(7,"form",null,0),b(9,Be,40,5,"div",5)(10,vt,93,36,"div",6),i()(),n(11,"ion-modal",7),b(12,Ot,14,2,"ng-template"),i(),n(13,"ion-modal",8),b(14,It,12,4,"ng-template"),i(),n(15,"ion-modal",9),b(16,Et,22,0,"ng-template"),i(),n(17,"ion-modal",9),b(18,Vt,109,3,"ng-template"),i()),t&2&&(s(3),p("defaultHref","/vehicle/"+a.vehicleId),s(6),p("ngIf",a.step===1),s(),p("ngIf",a.step===2),s(),p("isOpen",a.showServiceTypeModal)("backdropDismiss",!1),s(2),p("isOpen",a.showCompanyRulesModal)("backdropDismiss",!1),s(2),p("isOpen",a.showLoginModal)("backdropDismiss",!1),s(2),p("isOpen",a.showTermsModal)("backdropDismiss",!1))},dependencies:[Fe,me,ge,he,fe,_e,ue,xe,be,ye,ve,Pe,Ce,Me,Oe,we,ke,Se,Te,De,Ie,Ae,de,pe,Ee,K,G,Q,J,se,re,ie,Z,ee,oe,ae,ne,te],styles:['ion-content[_ngcontent-%COMP%]{--background: $bg-primary !important;background:#0a0a0a!important;--padding-start: 16px;--padding-end: 16px;--padding-top: 24px;--padding-bottom: 24px}h2[_ngcontent-%COMP%]{color:#d4af37;margin:0;font-weight:700;font-size:22px}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#d4af37;font-weight:600}form[_ngcontent-%COMP%], .step2-container[_ngcontent-%COMP%]{max-width:650px;margin:0 auto;padding:0 8px}.step2-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:32px;padding:0 4px}.step2-header[_ngcontent-%COMP%]   .back-button-header[_ngcontent-%COMP%]{--color: $accent-gold;color:#d4af37;font-weight:500;margin:0;padding:0;min-height:auto;height:auto}.step2-header[_ngcontent-%COMP%]   .back-button-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.step2-header[_ngcontent-%COMP%]   .step2-title[_ngcontent-%COMP%]{flex:1;color:#d4af37;font-size:22px;font-weight:700;margin:0;text-align:left}.step1-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:calc(100vh - 200px);padding:24px 0}.personal-info-card[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto 24px!important;border-radius:20px!important;background:#1b1b1b!important;border:1px solid rgba(255,255,255,.1)!important;box-shadow:0 4px 15px #0006!important;transition:all .3s ease!important}.personal-info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)!important;box-shadow:0 6px 20px #00000080,0 0 20px #d4af371a!important;border-color:#d4af3733!important}.personal-info-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:#d4af371a!important;border-bottom:2px solid rgba(212,175,55,.2)!important;padding:24px 20px!important;margin:0!important;text-align:center}.personal-info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:24px 20px!important}.section-subtitle[_ngcontent-%COMP%]{color:#9e9e9e!important;font-size:.95rem!important;margin:12px 0 0!important;font-weight:400!important;line-height:1.5!important;text-align:center}.form-field-item[_ngcontent-%COMP%]{margin-bottom:20px!important;--padding-start: 0 !important;--padding-end: 0 !important;--inner-padding-end: 0 !important;--inner-padding-start: 0 !important;--padding-top: 0 !important;--padding-bottom: 0 !important;width:100%!important;border-radius:12px!important;--border-color: rgba(255, 255, 255, .15) !important;--border-width: 1px !important;--border-style: solid !important}.form-field-item[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.form-field-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:10px!important;color:#ededed!important;font-weight:600!important;font-size:.95rem!important}.form-field-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .form-field-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .form-field-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{width:100%!important;--padding-start: 16px !important;--padding-end: 16px !important;--border-color: rgba(255, 255, 255, .15) !important}.name-row[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px}.name-row[_ngcontent-%COMP%]   .form-field-item[_ngcontent-%COMP%]{flex:1;margin-bottom:0!important}.last-name-field[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .mobile-field[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-start: 18px !important;--padding-end: 18px !important}.service-type-modal[_ngcontent-%COMP%]{--backdrop-opacity: .6}.service-modal-shell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;padding:24px}.service-modal-card[_ngcontent-%COMP%]{width:100%;max-width:500px;background:#1f1f1f;border:1px solid #2b2b2b;border-radius:20px;box-shadow:0 8px 20px #00000073;overflow:hidden;color:#e8e8e8;padding:0 0 4px}.service-modal-header[_ngcontent-%COMP%]{padding:18px 22px;border-bottom:1px solid #2b2b2b;text-align:left}.service-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700;color:#e8e8e8}.service-modal-body[_ngcontent-%COMP%]{padding:16px 22px;display:flex;flex-direction:column;gap:14px}.service-radio[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:14px 16px 14px 46px;border-radius:16px;border:1px solid #2b2b2b;background:#1a1a1a;cursor:pointer;transition:all .2s ease;position:relative}.service-radio[_ngcontent-%COMP%]:hover{border-color:#d4a017;box-shadow:0 4px 12px #00000059}.service-radio.selected[_ngcontent-%COMP%]{border-color:#d4a017;box-shadow:0 6px 16px #00000073}.radio-indicator[_ngcontent-%COMP%]{width:22px;height:22px;border-radius:50%;border:2px solid #d4a017;flex-shrink:0;position:absolute;left:16px;top:50%;transform:translateY(-50%)}.radio-indicator[_ngcontent-%COMP%]:after{content:"";position:absolute;top:4px;right:4px;bottom:4px;left:4px;border-radius:50%;background:#d4a017;opacity:0;transform:scale(.7);transition:opacity .15s ease,transform .15s ease}.radio-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.radio-label[_ngcontent-%COMP%]   .radio-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#e8e8e8}.radio-label[_ngcontent-%COMP%]   .radio-sub[_ngcontent-%COMP%]{font-size:14px;color:#bfbfbf}.service-radio.selected[_ngcontent-%COMP%]   .radio-indicator[_ngcontent-%COMP%]:after{opacity:1;transform:scale(1)}.service-modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;padding:14px 22px 18px;border-top:1px solid #2b2b2b}.service-modal-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 14px;--padding-start: 20px;--padding-end: 20px;--min-height: 44px;font-weight:700}.service-modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{--color: #e8e8e8;--border-color: #2b2b2b;--border-style: solid;--border-width: 1px;--background: transparent}.service-modal-footer[_ngcontent-%COMP%]   .btn-ok[_ngcontent-%COMP%]{--background: #d4a017;--background-activated: #c08f14;--background-focused: #c08f14;--background-hover: #dcb339;--color: #1a1a1a}.service-modal-divider[_ngcontent-%COMP%]{border-top:1px solid #2b2b2b;margin:0}.form-section-card[_ngcontent-%COMP%]{width:100%;max-width:650px;margin:0 auto 28px!important;border-radius:18px!important;background:#1b1b1b!important;border:1px solid rgba(255,255,255,.1)!important;box-shadow:0 4px 12px #0000004d,0 2px 4px #0003!important;overflow:hidden!important;transition:all .3s ease!important}.form-section-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)!important;box-shadow:0 6px 16px #0006,0 0 20px #d4af371a!important;border-color:#d4af3733!important}.form-section-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:#d4af371a!important;border-bottom:2px solid rgba(212,175,55,.2)!important;padding:24px 28px!important;margin:0!important}.form-section-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:28px!important}.section-title[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:12px!important;color:#d4af37!important;font-weight:700!important;font-size:18px!important;margin:0!important}.section-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px!important;color:#d4af37!important}.vehicle-info-header[_ngcontent-%COMP%]{text-align:center;margin:20px 0 24px;padding-bottom:20px;border-bottom:1px solid rgba(255,255,255,.1)}.vehicle-info-header[_ngcontent-%COMP%]   .vehicle-name[_ngcontent-%COMP%]{color:#ededed!important;font-size:1.5rem!important;font-weight:700!important;margin:0 0 8px!important}.vehicle-info-header[_ngcontent-%COMP%]   .vehicle-type[_ngcontent-%COMP%]{color:#9e9e9e!important;font-size:1rem!important;margin:0!important;text-transform:capitalize}.date-fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px}.date-fields-grid[_ngcontent-%COMP%]   .date-field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.time-field[_ngcontent-%COMP%]{margin-top:20px!important}.rental-duration-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 18px;margin:20px 0;background:#22c55e1f;border:1px solid rgba(34,197,94,.3);border-radius:12px;color:#22c55e;font-size:.95rem}.rental-duration-banner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#22c55e;flex-shrink:0}.rental-duration-banner[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#22c55e;font-weight:700;font-size:1.1rem}.availability-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px 16px;margin:10px 0;border-radius:10px;font-size:.875rem;line-height:1.5;min-height:44px}.availability-banner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;flex-shrink:0}.availability-banner[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: currentColor;width:18px;height:18px}.availability-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.availability-banner.success[_ngcontent-%COMP%]{background:#2ecc7126;border:1px solid rgba(46,204,113,.3);color:#2ecc71}.availability-banner.success[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#2ecc71}.availability-banner.warning[_ngcontent-%COMP%]{background:#fbbf2426;border:1px solid rgba(251,191,36,.3);color:#fbbf24}.availability-banner.warning[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fbbf24}.availability-banner.error[_ngcontent-%COMP%]{background:#ef444426;border:1px solid rgba(239,68,68,.3);color:#ef4444}.availability-banner.error[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#ef4444}.availability-banner.info[_ngcontent-%COMP%]{background:#3a82f726;border:1px solid rgba(58,130,247,.3);color:#3a82f7}.availability-banner.info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#3a82f7}.availability-banner.loading[_ngcontent-%COMP%]{background:#3a82f726;border:1px solid rgba(58,130,247,.3);color:#3a82f7}.upload-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-bottom:24px}.upload-box[_ngcontent-%COMP%]{position:relative}.upload-box[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.upload-box[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px;background:#ffffff0d;border:2px dashed rgba(255,255,255,.2);border-radius:12px;cursor:pointer;transition:all .3s ease;min-height:80px}.upload-box[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]:hover{background:#d4af371a;border-color:#d4af3766;transform:translateY(-2px)}.upload-box[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]:active{transform:translateY(0)}.upload-box[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:32px;color:#d4af37;flex-shrink:0}.upload-box[_ngcontent-%COMP%]   .upload-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.upload-box[_ngcontent-%COMP%]   .upload-title[_ngcontent-%COMP%]{color:#ededed;font-weight:600;font-size:.95rem}.upload-box[_ngcontent-%COMP%]   .upload-hint[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.85rem}.upload-box[_ngcontent-%COMP%]   .upload-success[_ngcontent-%COMP%]{font-size:24px;color:#22c55e;flex-shrink:0}.upload-box[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{margin-top:12px;display:flex;justify-content:center;align-items:center}.upload-box[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;max-height:150px;border-radius:12px;box-shadow:0 4px 12px #0000004d;border:2px solid rgba(212,175,55,.3)}.payment-section[_ngcontent-%COMP%]{margin-top:28px;padding-top:28px;border-top:1px solid rgba(255,255,255,.1)}.payment-select-item[_ngcontent-%COMP%]{margin-bottom:20px!important}.payment-info-box[_ngcontent-%COMP%]{padding:16px;background:#d4af3714;border-radius:12px;border:1px solid rgba(212,175,55,.2);text-align:center}.payment-info-box[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;margin-bottom:12px}.payment-info-box[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]   .payment-icon[_ngcontent-%COMP%]{font-size:28px;padding:10px;border-radius:10px;background:#d4af3726;transition:all .3s ease}.payment-info-box[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]   .payment-icon.gcash-icon[_ngcontent-%COMP%]{color:#0070ba}.payment-info-box[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]   .payment-icon.grabpay-icon[_ngcontent-%COMP%]{color:#00b14f}.payment-info-box[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]   .payment-icon.paymaya-icon[_ngcontent-%COMP%]{color:#00a8e8}.payment-info-box[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]   .payment-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#d4af3740}.payment-info-box[_ngcontent-%COMP%]   .payment-info-text[_ngcontent-%COMP%]{color:#9e9e9e!important;font-size:.85rem!important;line-height:1.5!important;margin:0!important}.payment-info-box[_ngcontent-%COMP%]   .payment-info-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:600}.form-actions[_ngcontent-%COMP%]{max-width:650px;margin:32px auto 24px;display:flex;flex-direction:column;gap:16px;padding:0 8px}ion-card[_ngcontent-%COMP%]{margin:0 0 20px;border-radius:16px;box-shadow:0 4px 15px #0006;transition:transform .2s ease,box-shadow .2s ease;background:#1b1b1b;border:none;overflow:hidden}ion-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000080}.vehicle-image-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:60%;border-radius:16px;overflow:hidden;background:#1b1b1b;box-shadow:0 4px 15px #0006;animation:_ngcontent-%COMP%_imageBounce .8s ease-out;margin-bottom:20px}.vehicle-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.vehicle-image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.vehicle-image-container[_ngcontent-%COMP%]   .image-gradient-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:40%;background:linear-gradient(to top,rgba(0,0,0,.8) 0%,rgba(0,0,0,.4) 50%,transparent 100%);pointer-events:none;z-index:1}.vehicle-image-container[_ngcontent-%COMP%]   .vehicle-status-badge[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;z-index:2;font-weight:700;font-size:13px;padding:8px 16px;border-radius:20px;box-shadow:0 4px 12px #0006;text-transform:uppercase;letter-spacing:.5px}.vehicle-image-container[_ngcontent-%COMP%]   .vehicle-status-badge[color=success][_ngcontent-%COMP%]{--background: $available-green;--color: #FFFFFF;background:#22c55e!important;color:#fff!important}.vehicle-image-container[_ngcontent-%COMP%]   .vehicle-status-badge[color=warning][_ngcontent-%COMP%]{--background: #F59E0B;--color: #FFFFFF;background:#f59e0b!important;color:#fff!important}.pricing-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:20px}.pricing-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.pricing-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding-bottom:12px;border-bottom:1px solid rgba(255,255,255,.1)}.pricing-header[_ngcontent-%COMP%]   .pricing-icon[_ngcontent-%COMP%]{font-size:24px;color:#d4af37;flex-shrink:0;margin-top:2px}.pricing-header[_ngcontent-%COMP%]   .pricing-title[_ngcontent-%COMP%]{flex:1}.pricing-header[_ngcontent-%COMP%]   .pricing-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ededed;font-size:1.2rem;font-weight:700;margin:0 0 4px;line-height:1.3}.pricing-header[_ngcontent-%COMP%]   .pricing-title[_ngcontent-%COMP%]   .vehicle-type[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.85rem;font-weight:500;margin:0;text-transform:capitalize}.pricing-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.price-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 14px;background:#d4af3714;border-radius:12px;border:1px solid rgba(212,175,55,.2);transition:all .3s ease;cursor:pointer;position:relative;box-shadow:0 2px 8px #0003}.price-row[_ngcontent-%COMP%]:active{transform:scale(.98);transition:transform .1s ease}.price-row[_ngcontent-%COMP%]:hover{background:#d4af371f;border-color:#d4af374d;transform:translate(4px);box-shadow:0 4px 12px #0000004d}@media (max-width: 768px){.price-row[_ngcontent-%COMP%]:active{background:#d4af3726;transition:background .1s ease}}.price-row.selected[_ngcontent-%COMP%]{background:#d4af3726;border-color:#d4af37;border-width:2px;box-shadow:0 4px 16px #d4af374d,0 0 20px #d4af371a}.price-row.selected[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{color:#d4af37}.price-row[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#d4af37;flex-shrink:0;transition:transform .3s ease}.price-row[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:20px;color:#d4af37;margin-left:auto;animation:_ngcontent-%COMP%_checkmarkPop .3s ease-out}.price-row[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.price-row[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .price-label[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.price-row[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{color:#d4af37;font-size:1.4rem;font-weight:800;line-height:1.2;display:flex;align-items:baseline;gap:4px}.price-row[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]   .price-unit[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:#9e9e9e}ion-card-header[_ngcontent-%COMP%]{background:#1b1b1b;border-bottom:1px solid rgba(255,255,255,.1);padding:20px}ion-card-title[_ngcontent-%COMP%]{color:#ededed;font-weight:600;font-size:1.2rem}ion-card-subtitle[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.9rem}ion-card-content[_ngcontent-%COMP%]{padding:20px;color:#ededed}ion-item[_ngcontent-%COMP%]{--background: $card-bg;--color: $text-primary;--placeholder-color: $text-secondary;--border-radius: 12px;--padding-start: 16px;--padding-end: 16px;--inner-padding-end: 0;border-radius:12px;margin-bottom:16px;box-shadow:0 2px 8px #0003;transition:all .2s ease}ion-item[_ngcontent-%COMP%]:focus-within{box-shadow:0 4px 12px #3a82f733;border:1px solid rgba(58,130,247,.3)}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#ededed;font-weight:500;margin-bottom:8px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--color: $text-primary !important;--placeholder-color: $text-secondary !important;color:#ededed!important}ion-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#ededed!important}ion-item[_ngcontent-%COMP%]   .native-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   .native-textarea[_ngcontent-%COMP%]{color:#ededed!important}.required[_ngcontent-%COMP%]{color:#ef4444;font-size:1.1em;margin-left:4px}ion-button[_ngcontent-%COMP%]{--background: $button-blue;--background-activated: #2563EB;--background-hover: #2563EB;--color: $text-primary;--border-radius: 12px;font-weight:600;margin:16px 0;height:48px;--box-shadow: 0 4px 12px rgba(58, 130, 247, .3);transition:all .2s ease}ion-button[_ngcontent-%COMP%]:hover{--box-shadow: 0 6px 16px rgba(58, 130, 247, .4);transform:translateY(-1px)}ion-button[color=medium][_ngcontent-%COMP%]{--background: #4B5563;--background-activated: #374151;--box-shadow: 0 2px 8px rgba(0, 0, 0, .2)}ion-button[color=primary][_ngcontent-%COMP%]{--background: $button-blue}ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background: $bg-primary !important;background:#0a0a0a!important;--color: $accent-gold !important;color:#d4af37!important;border-bottom:1px solid rgba(255,255,255,.1)}ion-title[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:600}ion-back-button[_ngcontent-%COMP%]{--color: $accent-gold !important;color:#d4af37!important}.rental-limit-card[_ngcontent-%COMP%]{background:#3a82f71a!important;border:1px solid rgba(58,130,247,.3)!important;border-radius:16px!important;margin-bottom:24px!important}.rental-limit-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px 20px!important}.rental-limit-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.rental-limit-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#3a82f7!important;font-size:24px;flex-shrink:0}.rental-limit-info[_ngcontent-%COMP%]   .limit-text[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:8px;flex-wrap:wrap}.rental-limit-info[_ngcontent-%COMP%]   .limit-text[_ngcontent-%COMP%]   .limit-label[_ngcontent-%COMP%]{color:#ededed!important;font-weight:500;font-size:.95rem}.rental-limit-info[_ngcontent-%COMP%]   .limit-text[_ngcontent-%COMP%]   .limit-count[_ngcontent-%COMP%]{color:#3a82f7!important;font-weight:700;font-size:1.1rem;background:#3a82f726;padding:4px 12px;border-radius:12px}.rental-limit-info[_ngcontent-%COMP%]   .limit-text[_ngcontent-%COMP%]   .limit-message[_ngcontent-%COMP%]{color:#ef4444!important;font-weight:500;font-size:.9rem;font-style:italic}.cost-breakdown[_ngcontent-%COMP%]{width:100%;max-width:650px;margin:0 auto 28px!important;background:linear-gradient(135deg,#1b1b1b,#161616)!important;border:2px solid rgba(212,175,55,.3)!important;border-radius:18px!important;box-shadow:0 4px 12px #0000004d,0 2px 4px #0003!important;overflow:hidden}.cost-breakdown[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background:#d4af3726!important;border-bottom:2px solid rgba(212,175,55,.2)!important;padding:24px 28px!important}.cost-breakdown[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:700!important;font-size:18px!important;text-align:left!important;display:flex;align-items:center;gap:12px}.cost-breakdown[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#d4af37}.cost-breakdown[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:28px!important}.cost-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:18px 0;border-bottom:1px solid rgba(255,255,255,.1);font-size:1rem}.cost-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.cost-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#ededed!important;font-weight:600;font-size:.95rem}.cost-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ededed!important;font-weight:700!important;font-size:1.25rem}.cost-item.down-payment[_ngcontent-%COMP%]{background:#d4af371a;border-radius:12px;padding:16px;margin:12px 0;border:1px solid rgba(212,175,55,.3);border-bottom:none}.cost-item.down-payment[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#d4af37!important;font-weight:600}.cost-item.down-payment[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:800!important;font-size:1.4rem}.cost-item.remaining[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#9e9e9e!important}.cost-item.remaining[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#9e9e9e!important;font-weight:600}.payment-note[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;margin-top:20px;padding:16px;background:#d4af3714;border-radius:12px;border-left:4px solid #D4AF37}.payment-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#d4af37!important;font-size:20px;margin-top:2px;flex-shrink:0}.payment-note[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#9e9e9e!important;font-size:.9rem;line-height:1.6}.vehicle-details-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1b1b1b,#161616)!important;border:1px solid rgba(255,255,255,.1)!important;border-radius:20px!important;box-shadow:0 4px 15px #0006!important;margin:0 0 20px!important;overflow:hidden!important;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .2s both}.vehicle-details-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #00000080!important;transform:translateY(-2px)}.vehicle-details-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:12px 16px 4px!important;background:transparent!important;border-bottom:none!important}.vehicle-details-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{color:#d4af37!important;font-size:1.1rem!important;font-weight:700!important;margin:0 0 4px!important}.vehicle-details-card[_ngcontent-%COMP%]   .gold-divider[_ngcontent-%COMP%]{height:2px;background:linear-gradient(90deg,transparent 0%,#D4AF37 20%,#D4AF37 80%,transparent 100%);margin:0;box-shadow:0 2px 8px #d4af374d}.vehicle-details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:4px 16px 12px!important}.vehicle-specs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:0;min-height:0}.vehicle-specs-grid[_ngcontent-%COMP%]:empty{display:none;margin:0;padding:0;height:0}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 12px;background:#ffffff08;border-radius:10px;border:1px solid rgba(255,255,255,.05);transition:all .3s ease;opacity:0;animation:_ngcontent-%COMP%_fadeInSpec .5s ease-out forwards;box-shadow:0 2px 8px #0003}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.4s}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.5s}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.7s}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.8s}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:nth-child(6){animation-delay:.9s}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:hover{background:#d4af3714;border-color:#d4af3733;transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-icon[_ngcontent-%COMP%]{font-size:22px;color:#d4af37;flex-shrink:0;width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:#d4af371a;border-radius:8px;padding:6px}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-content[_ngcontent-%COMP%]   .spec-label[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-content[_ngcontent-%COMP%]   .spec-value[_ngcontent-%COMP%]{color:#ededed;font-size:.95rem;font-weight:600}.vehicle-description[_ngcontent-%COMP%]{margin-top:0;padding-top:0;border-top:none}.vehicle-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.9rem;line-height:1.5;margin:0}.vehicle-specs-grid[_ngcontent-%COMP%]:not(:empty):has(.spec-item) ~ .vehicle-description[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid rgba(255,255,255,.1)}.inline-availability-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px 16px;margin-bottom:12px;background:#d4af371a;border:1px solid rgba(212,175,55,.3);border-radius:12px;font-size:.9rem;color:#d4af37}.inline-availability-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#d4af37;flex-shrink:0}.inline-availability-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.inline-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px 16px;margin-top:8px;margin-bottom:12px;background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:12px;font-size:.9rem;color:#ef4444}.inline-error[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#ef4444;flex-shrink:0}.inline-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.payment-notice-card[_ngcontent-%COMP%]{background:#3a82f71a!important;border:1px solid rgba(58,130,247,.3)!important;border-radius:16px!important;margin:20px 0!important}.payment-notice-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px!important}.payment-notice[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.payment-notice[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#3a82f7!important;font-size:24px;margin-top:2px;flex-shrink:0}.payment-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]{flex:1}.payment-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#3a82f7!important;font-size:1.1rem;font-weight:600;margin:0 0 8px}.payment-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9e9e9e!important;font-size:.95rem;line-height:1.6;margin:0}.payment-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:600}.payment-status-card[_ngcontent-%COMP%]{background:#3a82f71a!important;border:1px solid rgba(58,130,247,.3)!important;border-radius:16px!important;margin:20px 0!important}.payment-status-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{color:#ededed!important}.payment-status-card[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px}.payment-status-card[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:#3a82f7;flex-shrink:0}.payment-status-card[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.payment-status-card[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ededed!important;font-size:1.1rem;font-weight:600;margin:0 0 8px}.payment-status-card[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ededed!important;font-size:.95rem;line-height:1.5;margin:0}.image-preview[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin:12px 0 20px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:100px;border-radius:12px;box-shadow:0 4px 12px #0000004d;border:2px solid rgba(255,255,255,.1)}input[type=file][_ngcontent-%COMP%]{margin-top:8px;font-size:.95rem;color:#ededed!important;padding:8px;background:#1b1b1b;border:1px solid rgba(255,255,255,.1);border-radius:8px;width:100%}  ion-input input,   ion-textarea textarea,   input[type=text],   input[type=tel],   input[type=date],   input[type=time],   input[type=email],   input[type=number],   textarea{color:#ededed!important;caret-color:#d4af37!important}  ion-input input::placeholder,   ion-textarea textarea::placeholder,   input::placeholder,   textarea::placeholder{color:#9e9e9e!important;opacity:.7!important}  ion-select{--color: $text-primary !important}  .native-input,   .native-textarea{color:#ededed!important}  .input-wrapper input,   .input-wrapper textarea{color:#ededed!important}ion-modal[_ngcontent-%COMP%]{--background: $bg-primary;--color: $text-primary}ion-modal[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{--background: $card-bg !important;background:#1b1b1b!important;border-bottom:1px solid rgba(255,255,255,.1)}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: $card-bg !important;background:#1b1b1b!important}ion-modal[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:600}ion-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: $bg-primary !important;background:#0a0a0a!important;color:#ededed!important}ion-modal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{--background: $card-bg !important;background:#1b1b1b!important;border-top:1px solid rgba(255,255,255,.1)}ion-modal[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: $button-blue;--background-activated: #2563EB;--background-disabled: #4B5563;--color: $text-primary;font-weight:600;border-radius:12px;margin:8px 16px}ion-modal[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:disabled{--color: $text-secondary}.service-modal-content[_ngcontent-%COMP%]{--background: $bg-primary !important;background:#0a0a0a!important;padding:20px}.service-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-width:100%;margin:0 auto}.service-option[_ngcontent-%COMP%]{background:#1b1b1b;border:2px solid rgba(255,255,255,.1);border-radius:16px;padding:20px;display:flex;align-items:center;gap:16px;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0003}.service-option[_ngcontent-%COMP%]:hover{border-color:#d4af3766;transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.service-option.selected[_ngcontent-%COMP%]{border-color:#d4af37;background:#d4af371a;box-shadow:0 4px 16px #d4af3733}.service-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,#d4af37,#b29126);border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 4px 12px #d4af374d}.service-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#000}.service-info[_ngcontent-%COMP%]{flex:1}.service-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ededed;font-size:1.1rem;font-weight:600;margin:0 0 4px}.service-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.9rem;margin:0}.service-check[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;color:#d4af37}.company-rules-content[_ngcontent-%COMP%]{--background: $bg-primary !important;background:#0a0a0a!important;padding:24px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: $accent-gold;margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.95rem;margin:0}.no-rules[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.no-rules[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;color:#d4af37;margin-bottom:16px}.no-rules[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#d4af37;font-size:1.3rem;margin:0 0 8px}.no-rules[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.95rem;margin:0}.rules-container[_ngcontent-%COMP%]{max-width:100%}.rules-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;padding:24px;background:#1b1b1b;border-radius:16px;border:1px solid rgba(255,255,255,.1);box-shadow:0 4px 12px #0000004d}.rules-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:#d4af37;margin-bottom:16px}.rules-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#d4af37;font-size:1.5rem;margin:0 0 12px;font-weight:700}.rules-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.95rem;margin:0;line-height:1.6}.rules-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.rule-item[_ngcontent-%COMP%]{background:#1b1b1b;border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:20px;transition:all .3s ease;box-shadow:0 2px 8px #0003}.rule-item[_ngcontent-%COMP%]:hover{border-color:#d4af374d;transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.rule-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.rule-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#d4af37;flex-shrink:0}.rule-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#d4af37;font-size:1.2rem;margin:0;font-weight:700}.rule-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9e9e9e;font-size:1rem;line-height:1.7;margin:0;white-space:pre-line}.terms-content[_ngcontent-%COMP%]{padding:24px;max-width:600px;margin:0 auto}.terms-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#d4af37!important;text-align:center;margin-bottom:32px;font-size:1.8rem}.terms-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#d4af37!important;margin-top:32px;margin-bottom:16px;font-size:1.3rem;border-bottom:2px solid rgba(212,175,55,.3);padding-bottom:12px}.terms-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:24px}.terms-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#9e9e9e!important;margin-bottom:12px;line-height:1.7}.terms-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:600}.terms-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9e9e9e!important;line-height:1.7;margin-bottom:20px}.login-modal-content[_ngcontent-%COMP%]{--background: $bg-primary}.login-modal-content[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:32px 24px;text-align:center}.login-modal-content[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:80px;color:#3a82f7;margin-bottom:24px}.login-modal-content[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#d4af37;font-size:1.6rem;margin:0 0 16px}.login-modal-content[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9e9e9e;font-size:1rem;line-height:1.6;margin-bottom:32px}.login-modal-content[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:8px 0;width:100%;max-width:300px}.service-type-selected[_ngcontent-%COMP%]{color:#d4af37;font-size:.85rem;margin-top:8px;padding:8px 12px;background:#d4af371a;border-radius:8px;border-left:3px solid #D4AF37}.service-selection-info[_ngcontent-%COMP%]{color:#d4af37;font-size:.9rem;margin-bottom:16px;text-align:center;padding:12px;background:#d4af371a;border-radius:12px}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInSpec{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_checkmarkPop{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_imageBounce{0%{transform:scale(.95);opacity:0}50%{transform:scale(1.02)}to{transform:scale(1);opacity:1}}@media (max-width: 768px){form[_ngcontent-%COMP%]{padding:0 4px}.step1-container[_ngcontent-%COMP%]{min-height:auto;padding:16px 0}.personal-info-card[_ngcontent-%COMP%]{max-width:100%!important;margin:0 auto 20px!important;border-radius:16px!important}.personal-info-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:20px 16px!important}.personal-info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px 16px!important}.form-field-item[_ngcontent-%COMP%]{margin-bottom:20px!important}.section-subtitle[_ngcontent-%COMP%]{font-size:.9rem!important;margin:10px 0 0!important}.step2-container[_ngcontent-%COMP%]{padding:0 4px}.step2-header[_ngcontent-%COMP%]{margin-bottom:24px;gap:12px}.step2-header[_ngcontent-%COMP%]   .step2-title[_ngcontent-%COMP%]{font-size:20px}.form-section-card[_ngcontent-%COMP%]{margin:0 0 24px!important;border-radius:16px!important;max-width:100%!important}.form-section-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:20px 16px!important}.form-section-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:24px 16px!important}.section-title[_ngcontent-%COMP%]{font-size:16px!important}.date-fields-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.availability-banner[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem;min-height:36px}.availability-banner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.upload-label[_ngcontent-%COMP%]{padding:16px;min-height:70px}.upload-icon[_ngcontent-%COMP%]{font-size:28px}.payment-info-box[_ngcontent-%COMP%]{padding:14px}.payment-info-box[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]{gap:16px}.payment-info-box[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]   .payment-icon[_ngcontent-%COMP%]{font-size:24px;padding:8px}.payment-info-box[_ngcontent-%COMP%]   .payment-info-text[_ngcontent-%COMP%]{font-size:.8rem!important}.section-title[_ngcontent-%COMP%]{font-size:1.1rem!important}.section-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px!important}.vehicle-info-header[_ngcontent-%COMP%]{margin:16px 0 20px;padding-bottom:16px}.vehicle-info-header[_ngcontent-%COMP%]   .vehicle-name[_ngcontent-%COMP%]{font-size:1.3rem!important}.payment-methods-info[_ngcontent-%COMP%]{padding:16px}.payment-methods-info[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]{gap:16px}.payment-methods-info[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]   .payment-icon[_ngcontent-%COMP%]{font-size:28px;padding:10px}.payment-methods-info[_ngcontent-%COMP%]   .payment-instructions[_ngcontent-%COMP%]{font-size:.85rem!important}ion-card[_ngcontent-%COMP%]{margin:0 0 16px}h2[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:20px}.vehicle-specs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px;margin-bottom:12px}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]{padding:10px;gap:10px}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-icon[_ngcontent-%COMP%]{width:32px;height:32px;font-size:20px;padding:5px}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-content[_ngcontent-%COMP%]   .spec-label[_ngcontent-%COMP%]{font-size:.7rem}.vehicle-specs-grid[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-content[_ngcontent-%COMP%]   .spec-value[_ngcontent-%COMP%]{font-size:.9rem}.vehicle-description[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px}.vehicle-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;line-height:1.5}.vehicle-pricing-card[_ngcontent-%COMP%]   .pricing-header[_ngcontent-%COMP%]{flex-direction:column;gap:12px;text-align:center}.vehicle-pricing-card[_ngcontent-%COMP%]   .pricing-header[_ngcontent-%COMP%]   .pricing-icon[_ngcontent-%COMP%]{margin:0 auto}.book-vehicle-button[_ngcontent-%COMP%]{font-size:1rem!important;height:52px!important;margin:24px 0 20px!important}}']});let c=g;return c})();export{Yt as RentVehiclePage};
