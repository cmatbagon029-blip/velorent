import{a as Z}from"./chunk-FMDZ6S3R.js";import"./chunk-NUHOWZQU.js";import{$ as E,A as g,B as C,C as p,D as m,Eb as J,Gb as K,H as c,I as _,Ib as Q,J as h,Kb as W,O as M,Q as O,S as y,Sb as X,W as V,X as S,_ as w,db as k,eb as A,fb as L,gb as z,hb as R,ib as B,jb as F,k as b,kb as j,mb as D,n as f,nb as H,o as v,pb as N,qb as U,r as P,rb as $,s as r,t as x,u,va as T,w as d,wb as G,x as I,xb as Y,y as n,yb as q,z as o}from"./chunk-2AVOPVJ6.js";import"./chunk-6TEYLYMN.js";import"./chunk-QUJFQN2Y.js";import"./chunk-MQ34CZDB.js";import"./chunk-3HFMG4JC.js";import"./chunk-GNKKXBWB.js";import"./chunk-ALHFSM7F.js";import"./chunk-6EIW3MWH.js";import"./chunk-V2LICYYN.js";import"./chunk-J3KPDA35.js";import"./chunk-HQYYVS42.js";import"./chunk-E6DTWWEQ.js";import"./chunk-SYUL6SJY.js";import"./chunk-RFVCZTOC.js";import"./chunk-DI7UCLSP.js";import"./chunk-3IVKBF6N.js";import"./chunk-FXFZIWDD.js";import"./chunk-BGL2RXYC.js";import"./chunk-42C7ZIID.js";import"./chunk-C5RQ2IC2.js";import"./chunk-4FNGVWOR.js";import"./chunk-F7H4DQG2.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-EGZPES6R.js";import"./chunk-CKP3SGE2.js";import"./chunk-BGDP6BPN.js";import"./chunk-2K7NMRC4.js";function ne(i,a){i&1&&(n(0,"div",10),g(1,"ion-spinner",11),n(2,"p"),c(3,"Loading vehicles..."),o()())}function ie(i,a){if(i&1){let t=C();n(0,"div",12),g(1,"ion-icon",13),n(2,"p"),c(3),o(),n(4,"ion-button",3),p("click",function(){f(t);let l=m();return v(l.loadVehicles())}),c(5,"Try Again"),o()()}if(i&2){let t=m();r(3),_(t.error)}}function oe(i,a){if(i&1&&(n(0,"ion-badge",20),c(1),o()),i&2){let t=m().$implicit,e=m(2);d("color",e.getStatusColor(t.status)),r(),h(" ",e.getStatusLabel(t.status)," ")}}function re(i,a){if(i&1){let t=C();n(0,"ion-col",15)(1,"ion-card",3),p("click",function(){let l=f(t).$implicit,s=m(2);return v(s.viewVehicleDetails(l.id))}),n(2,"div",16),g(3,"img",17),u(4,oe,2,2,"ion-badge",18),o(),n(5,"ion-card-header")(6,"ion-card-title"),c(7),o(),n(8,"ion-card-subtitle"),c(9),o()(),n(10,"ion-card-content")(11,"p")(12,"strong"),c(13,"Price:"),o(),c(14),O(15,"number"),o(),n(16,"ion-button",19),c(17),o()()()()}if(i&2){let t=a.$implicit,e=m(2);r(),I("unavailable",!e.isVehicleAvailable(t)),r(2),d("src",t.imageUrl||"assets/icon/vehicle-placeholder.png",P)("alt",t.name),r(),d("ngIf",t.status),r(3),_(t.name),r(2),_(t.type),r(5),h(" \u20B1",y(15,11,t.price_without_driver||t.price,"1.2-2"),"/day"),r(2),d("color",e.isVehicleAvailable(t)?"primary":"medium")("disabled",!e.isVehicleAvailable(t)),r(),h(" ",e.isVehicleAvailable(t)?"View Details":e.getStatusLabel(t.status)," ")}}function ae(i,a){if(i&1&&(n(0,"ion-grid")(1,"ion-row"),u(2,re,18,14,"ion-col",14),o()()),i&2){let t=m();r(2),d("ngForOf",t.vehicles)}}function le(i,a){i&1&&(n(0,"div",21),g(1,"ion-icon",22),n(2,"p"),c(3,"No vehicles available at the moment."),o()())}var _e=(()=>{let a=class a{constructor(e,l){this.apiService=e,this.router=l,this.vehicles=[],this.loading=!0,this.error=null}ngOnInit(){this.loadVehicles()}loadVehicles(){this.loading=!0,this.error=null,this.apiService.getVehicles().subscribe({next:e=>{this.vehicles=e,this.loading=!1},error:e=>{this.error="Failed to load vehicles. Please try again later.",this.loading=!1,console.error("Error loading vehicles:",e)}})}viewVehicleDetails(e){this.router.navigate(["/vehicle",e])}refreshVehicles(e){this.loadVehicles(),e.target.complete()}isVehicleAvailable(e){return e.status==="available"||!e.status}getStatusColor(e){if(!e)return"success";switch(e.toLowerCase()){case"available":return"success";case"under maintenance":return"warning";case"currently rented":return"tertiary";case"unavailable":return"danger";default:return"medium"}}getStatusLabel(e){if(!e)return"Available";switch(e.toLowerCase()){case"available":return"Available";case"under maintenance":return"Maintenance";case"currently rented":return"Rented";case"unavailable":return"Unavailable";default:return e}}};a.\u0275fac=function(l){return new(l||a)(x(Z),x(T))},a.\u0275cmp=b({type:a,selectors:[["app-vehicles"]],standalone:!0,features:[M],decls:16,vars:4,consts:[["slot","start"],["defaultHref","/dashboard"],["slot","end"],[3,"click"],["name","refresh-outline"],["slot","fixed",3,"ionRefresh"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[4,"ngIf"],["class","empty-container",4,"ngIf"],[1,"loading-container"],["name","crescent"],[1,"error-container"],["name","alert-circle-outline"],["size","12","size-md","6","size-lg","4",4,"ngFor","ngForOf"],["size","12","size-md","6","size-lg","4"],[1,"image-container"],[3,"src","alt"],["class","status-badge",3,"color",4,"ngIf"],["expand","block",3,"color","disabled"],[1,"status-badge",3,"color"],[1,"empty-container"],["name","car-outline"]],template:function(l,s){l&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),g(3,"ion-back-button",1),o(),n(4,"ion-title"),c(5,"Available Vehicles"),o(),n(6,"ion-buttons",2)(7,"ion-button",3),p("click",function(){return s.loadVehicles()}),g(8,"ion-icon",4),o()()()(),n(9,"ion-content")(10,"ion-refresher",5),p("ionRefresh",function(te){return s.refreshVehicles(te)}),g(11,"ion-refresher-content"),o(),u(12,ne,4,0,"div",6)(13,ie,6,1,"div",7)(14,ae,3,1,"ion-grid",8)(15,le,4,0,"div",9),o()),l&2&&(r(12),d("ngIf",s.loading),r(),d("ngIf",s.error),r(),d("ngIf",!s.loading&&!s.error),r(),d("ngIf",!s.loading&&!s.error&&s.vehicles.length===0))},dependencies:[X,k,A,L,z,R,B,F,j,D,H,N,U,$,G,Y,q,J,K,Q,W,E,V,S,w],styles:[".loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:20px;text-align:center}.loading-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--ion-color-medium);margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:16px}ion-grid[_ngcontent-%COMP%]{padding:16px}ion-card[_ngcontent-%COMP%]{margin:0;cursor:pointer;transition:transform .2s ease-in-out}ion-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}ion-card.unavailable[_ngcontent-%COMP%]{opacity:.7;filter:grayscale(100%)}ion-card.unavailable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:16px}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}ion-refresher[_ngcontent-%COMP%]{z-index:1}.vehicle-image[_ngcontent-%COMP%]{width:100%;height:160px;display:flex;align-items:center;justify-content:center;overflow:hidden;background:#f8f9fa;border-radius:8px 8px 0 0}.vehicle-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;display:block;margin:0 auto}"]});let i=a;return i})();export{_e as VehiclesPage};
