import{a as De,b as B,c as Fe}from"./chunk-57YP3I6H.js";import{a as xe}from"./chunk-FMDZ6S3R.js";import{a as Q}from"./chunk-CAFIEAPC.js";import"./chunk-NUHOWZQU.js";import{B as Ie,L as Se,P as Te,Q as Ee,R as Re,S as qe,Y as Ae,a as Pe,g as ve,i as ye,k as Oe,t as ke,w as we}from"./chunk-5FV2MGAH.js";import{$ as S,A as u,B as O,C,D as p,Eb as D,Fb as be,Gb as K,H as c,I as y,Ib as Y,J as b,K as j,L as N,Lb as Me,M as V,N as H,O as w,Ob as G,Qb as J,Sb as F,W as Z,X as I,ab as le,db as se,eb as U,fa as ee,fb as de,gb as T,hb as E,ia as te,ib as R,jb as me,k,kb as q,la as ne,n as x,nb as $,o as P,ob as ge,pa as oe,q as L,qb as W,rb as A,s as l,sa as ie,sb as pe,t as h,tb as ue,u as f,ub as _e,va as re,vb as fe,w as g,wa as ae,wb as Ce,xb as he,y as o,ya as ce,z as r}from"./chunk-2AVOPVJ6.js";import"./chunk-6TEYLYMN.js";import"./chunk-QUJFQN2Y.js";import"./chunk-MQ34CZDB.js";import"./chunk-3HFMG4JC.js";import"./chunk-GNKKXBWB.js";import"./chunk-ALHFSM7F.js";import"./chunk-6EIW3MWH.js";import"./chunk-V2LICYYN.js";import"./chunk-J3KPDA35.js";import"./chunk-HQYYVS42.js";import"./chunk-E6DTWWEQ.js";import"./chunk-SYUL6SJY.js";import"./chunk-RFVCZTOC.js";import"./chunk-DI7UCLSP.js";import"./chunk-3IVKBF6N.js";import"./chunk-FXFZIWDD.js";import"./chunk-BGL2RXYC.js";import"./chunk-42C7ZIID.js";import"./chunk-C5RQ2IC2.js";import"./chunk-4FNGVWOR.js";import"./chunk-F7H4DQG2.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-EGZPES6R.js";import"./chunk-CKP3SGE2.js";import"./chunk-BGDP6BPN.js";import{g as v}from"./chunk-2K7NMRC4.js";function Le(i,d){if(i&1&&(o(0,"div",5)(1,"h3"),u(2,"ion-icon",9),c(3," Reschedule Terms "),r(),u(4,"div",7),o(5,"div",10),u(6,"ion-icon",11),o(7,"span"),c(8),r()()()),i&2){let a=p(2);l(4),g("innerHTML",a.sanitizedRescheduleTerms,L),l(4),b("Free reschedule if requested at least ",a.policy.reschedule_free_days," days before booking")}}function je(i,d){if(i&1&&(o(0,"div",5)(1,"h3"),u(2,"ion-icon",12),c(3," Cancellation Terms "),r(),u(4,"div",7),o(5,"div",10),u(6,"ion-icon",11),o(7,"span"),c(8),r()()()),i&2){let a=p(2);l(4),g("innerHTML",a.sanitizedCancellationTerms,L),l(4),b("Cancellation fee: ",a.policy.cancellation_fee_percentage,"%")}}function Ue(i,d){i&1&&(o(0,"div",10),u(1,"ion-icon",13),o(2,"span"),c(3,"Deposits and reservation fees are non-refundable"),r()())}function $e(i,d){i&1&&(o(0,"div",10),u(1,"ion-icon",14),o(2,"span"),c(3,"Deposits are refundable"),r()())}function We(i,d){if(i&1&&(o(0,"div",3)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),c(4,"Company Terms & Policies"),r()(),o(5,"ion-card-content"),f(6,Le,9,2,"div",4)(7,je,9,2,"div",4),o(8,"div",5)(9,"h3"),u(10,"ion-icon",6),c(11," Refund Terms "),r(),u(12,"div",7),f(13,Ue,4,0,"div",8)(14,$e,4,0,"div",8),r()()()()),i&2){let a=p();l(6),g("ngIf",a.policy.allow_reschedule),l(),g("ngIf",a.policy.allow_cancellation),l(5),g("innerHTML",a.sanitizedRefundTerms,L),l(),g("ngIf",!a.policy.deposit_refundable),l(),g("ngIf",a.policy.deposit_refundable)}}function Ke(i,d){i&1&&(o(0,"div",15),u(1,"ion-spinner"),o(2,"p"),c(3,"Loading terms..."),r()())}function Ye(i,d){if(i&1&&(o(0,"div",16),u(1,"ion-icon",17),o(2,"p"),c(3),r()()),i&2){let a=p();l(3),y(a.error)}}var He=(()=>{let d=class d{constructor(t,n){this.bookingRequestService=t,this.sanitizer=n,this.policy=null,this.loading=!1,this.error=null,this.sanitizedRescheduleTerms="",this.sanitizedCancellationTerms="",this.sanitizedRefundTerms=""}ngOnInit(){this.companyId&&this.loadPolicy()}loadPolicy(){this.loading=!0,this.error=null,this.bookingRequestService.getCompanyPolicies(this.companyId).subscribe({next:t=>{this.policy=t,this.sanitizedRescheduleTerms=this.sanitizeHtml(t.reschedule_terms),this.sanitizedCancellationTerms=this.sanitizeHtml(t.cancellation_terms),this.sanitizedRefundTerms=this.sanitizeHtml(t.refund_terms),this.loading=!1},error:t=>{console.error("Error loading policy:",t),this.error="Failed to load company terms",this.loading=!1}})}sanitizeHtml(t){return t?this.sanitizer.bypassSecurityTrustHtml(t):""}};d.\u0275fac=function(n){return new(n||d)(h(B),h(ee))},d.\u0275cmp=k({type:d,selectors:[["app-company-terms"]],inputs:{companyId:"companyId"},standalone:!0,features:[w],decls:3,vars:3,consts:[["class","terms-container",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"terms-container"],["class","terms-section",4,"ngIf"],[1,"terms-section"],["name","cash-outline"],[3,"innerHTML"],["class","terms-highlight",4,"ngIf"],["name","calendar-outline"],[1,"terms-highlight"],["name","information-circle-outline"],["name","close-circle-outline"],["name","warning-outline","color","warning"],["name","checkmark-circle-outline","color","success"],[1,"loading-container"],[1,"error-container"],["name","alert-circle-outline"]],template:function(n,e){n&1&&f(0,We,15,5,"div",0)(1,Ke,4,0,"div",1)(2,Ye,4,1,"div",2),n&2&&(g("ngIf",e.policy),l(),g("ngIf",e.loading),l(),g("ngIf",e.error))},dependencies:[S,I,F,T,E,R,q,A,D],styles:[".terms-container[_ngcontent-%COMP%]{margin:16px 0}ion-card[_ngcontent-%COMP%]{--background: #1e1e1e;background:#1e1e1e!important;border-radius:16px;box-shadow:0 4px 16px #d4af371f}ion-card-header[_ngcontent-%COMP%]{padding-bottom:12px}ion-card-title[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:600;font-size:1.2em}ion-card-content[_ngcontent-%COMP%]{color:#ededed}.terms-section[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid rgba(212,175,55,.2)}.terms-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.terms-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:1.1em;font-weight:600;margin-bottom:12px;color:#d4af37}.terms-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#d4af37}.terms-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .terms-section[_ngcontent-%COMP%]   div[innerHTML][_ngcontent-%COMP%]{margin-bottom:12px;line-height:1.6;color:#ededed}.terms-section[_ngcontent-%COMP%]   div[innerHTML][_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;line-height:1.6;color:#ededed}.terms-section[_ngcontent-%COMP%]   div[innerHTML][_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#d4af37;font-weight:600}.terms-section[_ngcontent-%COMP%]   div[innerHTML][_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .terms-section[_ngcontent-%COMP%]   div[innerHTML][_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:8px 0;padding-left:24px;color:#ededed}.terms-section[_ngcontent-%COMP%]   div[innerHTML][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px;line-height:1.6;color:#ededed}.terms-highlight[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background:#d4af371a;border-radius:8px;margin-top:8px;border:1px solid rgba(212,175,55,.3)}.terms-highlight[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2em;color:#d4af37}.terms-highlight[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ededed}.terms-highlight[color=warning][_ngcontent-%COMP%]{background:#d4af3726;border-color:#d4af3766}.terms-highlight[color=success][_ngcontent-%COMP%]{background:#22c55e26;border-color:#22c55e4d}.terms-highlight[color=success][_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#22c55e}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;text-align:center}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d4af37;margin-top:16px}ion-spinner[_ngcontent-%COMP%]{--color: #D4AF37}.error-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3em;margin-bottom:16px;color:#d4af37}.error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d4af37}"]});let i=d;return i})();function Ge(i,d){if(i&1){let a=O();o(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),c(3,"New Booking Details"),r()(),o(4,"ion-card-content")(5,"ion-item")(6,"ion-label",10),c(7,"New Start Date *"),r(),o(8,"ion-input",11),H("ngModelChange",function(n){x(a);let e=p();return V(e.newStartDate,n)||(e.newStartDate=n),P(n)}),C("ionChange",function(){x(a);let n=p();return P(n.onDateChange())}),r()(),o(9,"ion-item")(10,"ion-label",10),c(11,"New End Date *"),r(),o(12,"ion-input",12),H("ngModelChange",function(n){x(a);let e=p();return V(e.newEndDate,n)||(e.newEndDate=n),P(n)}),r()(),o(13,"ion-item")(14,"ion-label",10),c(15,"New Time"),r(),o(16,"ion-input",13),H("ngModelChange",function(n){x(a);let e=p();return V(e.newRentTime,n)||(e.newRentTime=n),P(n)}),r()()()()}if(i&2){let a=p();l(8),N("ngModel",a.newStartDate),l(4),N("ngModel",a.newEndDate),l(4),N("ngModel",a.newRentTime)}}function Je(i,d){i&1&&(o(0,"div",15),u(1,"ion-spinner",16),o(2,"p"),c(3,"Computing fee..."),r()())}function Qe(i,d){if(i&1&&(o(0,"div",15)(1,"h3"),c(2),r(),o(3,"p"),c(4),r()()),i&2){let a=p(2);l(2),b("Computed Fee: ",a.feeComputation.computed_fee,"%"),l(2),y(a.feeComputation.fee_details.reason)}}function Xe(i,d){if(i&1&&(o(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),c(3,"Fee Information"),r()(),o(4,"ion-card-content"),f(5,Je,4,0,"div",14)(6,Qe,5,2,"div",14),r()()),i&2){let a=p();l(5),g("ngIf",a.computingFee),l(),g("ngIf",a.feeComputation&&!a.computingFee)}}function Ze(i,d){if(i&1&&(o(0,"ion-item",17)(1,"ion-label")(2,"h3"),c(3,"Error"),r(),o(4,"p"),c(5),r()()()),i&2){let a=p();l(5),y(a.error)}}function et(i,d){i&1&&u(0,"ion-spinner",16)}function tt(i,d){i&1&&(o(0,"span"),c(1,"Submit Request"),r())}var X=(()=>{let d=class d{constructor(t,n,e){this.modalController=t,this.alertController=n,this.bookingRequestService=e,this.requestType="reschedule",this.newStartDate="",this.newEndDate="",this.newRentTime="",this.reason="",this.feeComputation=null,this.submitting=!1,this.error=null,this.computingFee=!1,this.feeComputeTimeout=null}ngOnInit(){this.requestType==="cancellation"&&this.computeFee()}onDateChange(){this.requestType==="reschedule"&&this.newStartDate&&(this.feeComputeTimeout&&clearTimeout(this.feeComputeTimeout),this.feeComputeTimeout=setTimeout(()=>{this.newStartDate&&this.computeFee(),this.feeComputeTimeout=null},300))}computeFee(){if(!(!this.booking||!this.booking.id)&&!this.computingFee){if(this.requestType==="reschedule"&&!this.newStartDate){this.feeComputation=null;return}this.computingFee=!0,this.bookingRequestService.computeFee(this.booking.id,this.requestType,this.newStartDate||void 0).subscribe({next:t=>{this.feeComputation=t,this.computingFee=!1},error:t=>{console.error("Error computing fee:",t),this.computingFee=!1}})}}canSubmit(){return!this.reason||this.reason.trim().length===0?!1:this.requestType==="reschedule"?!!(this.newStartDate&&this.newEndDate):!0}submitRequest(){return v(this,null,function*(){if(!this.canSubmit())return;this.submitting=!0,this.error=null;let t={booking_id:this.booking.id,request_type:this.requestType,reason:this.reason,new_start_date:this.requestType==="reschedule"?this.newStartDate:void 0,new_end_date:this.requestType==="reschedule"?this.newEndDate:void 0,new_rent_time:this.requestType==="reschedule"?this.newRentTime:void 0};this.bookingRequestService.createRequest(t).subscribe({next:n=>v(this,null,function*(){this.submitting=!1,yield(yield this.alertController.create({header:"Request Submitted",message:`Your ${this.requestType} request has been submitted successfully and is pending approval.`,buttons:["OK"]})).present(),this.dismiss(!0)}),error:n=>v(this,null,function*(){this.submitting=!1,console.error("Request submission error:",n),console.error("Error details:",n.error);let e="Failed to submit request";n.error?typeof n.error=="string"?e=n.error:n.error.error?e=n.error.error:n.error.message?e=n.error.message:n.error.details&&(e=`${n.error.error||"Error"}: ${n.error.details}`):n.message&&(e=n.message),this.error=e,yield(yield this.alertController.create({header:"Error",message:e,buttons:["OK"]})).present()})})})}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}formatTime(t){if(!t)return"";let[n,e]=t.split(":"),s=parseInt(n),m=s>=12?"PM":"AM";return`${s%12||12}:${e} ${m}`}dismiss(t=!1){this.modalController.dismiss(t)}};d.\u0275fac=function(n){return new(n||d)(h(J),h(G),h(B))},d.\u0275cmp=k({type:d,selectors:[["app-request-modal"]],inputs:{booking:"booking",requestType:"requestType"},standalone:!0,features:[w],decls:40,vars:13,consts:[["slot","end"],[3,"click"],["name","close"],[1,"ion-padding"],[3,"companyId"],[4,"ngIf"],["placeholder","Please provide a reason for your request...","rows","4","required","",3,"ngModelChange","ngModel"],["color","danger",4,"ngIf"],["expand","block",3,"click","disabled"],["name","crescent",4,"ngIf"],["position","stacked"],["type","date",3,"ngModelChange","ionChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["type","time",3,"ngModelChange","ngModel"],["class","fee-display",4,"ngIf"],[1,"fee-display"],["name","crescent"],["color","danger"]],template:function(n,e){n&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),c(3),r(),o(4,"ion-buttons",0)(5,"ion-button",1),C("click",function(){return e.dismiss()}),u(6,"ion-icon",2),r()()()(),o(7,"ion-content",3),u(8,"app-company-terms",4),o(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),c(12,"Booking Details"),r()(),o(13,"ion-card-content")(14,"p")(15,"strong"),c(16,"Vehicle:"),r(),c(17),r(),o(18,"p")(19,"strong"),c(20,"Date:"),r(),c(21),r(),o(22,"p")(23,"strong"),c(24,"Time:"),r(),c(25),r()()(),f(26,Ge,17,3,"ion-card",5)(27,Xe,7,2,"ion-card",5),o(28,"ion-card")(29,"ion-card-header")(30,"ion-card-title"),c(31,"Reason *"),r()(),o(32,"ion-card-content")(33,"ion-textarea",6),H("ngModelChange",function(m){return V(e.reason,m)||(e.reason=m),m}),r()()(),f(34,Ze,6,1,"ion-item",7),r(),o(35,"ion-footer")(36,"ion-toolbar")(37,"ion-button",8),C("click",function(){return e.submitRequest()}),f(38,et,1,0,"ion-spinner",9)(39,tt,2,0,"span",5),r()()()),n&2&&(l(3),y(e.requestType==="reschedule"?"Request Reschedule":"Request Cancellation"),l(5),g("companyId",e.booking.company_id),l(9),b(" ",e.booking.vehicle_name,""),l(4),j(" ",e.formatDate(e.booking.start_date)," - ",e.formatDate(e.booking.end_date),""),l(4),b(" ",e.formatTime(e.booking.rent_time),""),l(),g("ngIf",e.requestType==="reschedule"),l(),g("ngIf",e.feeComputation||e.computingFee),l(6),N("ngModel",e.reason),l(),g("ngIf",e.error),l(3),g("disabled",!e.canSubmit()||e.submitting),l(),g("ngIf",e.submitting),l(),g("ngIf",!e.submitting))},dependencies:[S,I,F,U,de,T,E,R,q,$,ge,W,A,pe,ue,_e,D,be,K,Y,le,ie,te,oe,ne,He],styles:["[_nghost-%COMP%]{--background: #0A0A0A}ion-header[_ngcontent-%COMP%]{--background: #0A0A0A;background:#0a0a0a!important}ion-toolbar[_ngcontent-%COMP%]{--background: #0A0A0A;background:#0a0a0a!important}ion-title[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:600}ion-content[_ngcontent-%COMP%]{--background: #0A0A0A;background:#0a0a0a!important}ion-card[_ngcontent-%COMP%]{--background: #1B1B1B;background:#1b1b1b!important;border-radius:18px;border:1px solid #2A2A2A;box-shadow:0 4px 12px #00000080;margin-bottom:16px}ion-card-header[_ngcontent-%COMP%]{padding-bottom:12px}ion-card-title[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:600;font-size:1.2em}ion-card-content[_ngcontent-%COMP%]{color:#ededed}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ededed;margin:8px 0}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#d4af37;font-weight:500}ion-item[_ngcontent-%COMP%]{--background: #1B1B1B;--color: #EDEDED;--border-color: rgba(212, 175, 55, .2);margin-bottom:12px;border-radius:12px}ion-label[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:500}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{--color: #EDEDED;--placeholder-color: #9E9E9E;--background: #0A0A0A;border-radius:12px;padding:8px}ion-textarea[_ngcontent-%COMP%]{min-height:100px;line-height:1.5}.fee-display[_ngcontent-%COMP%]{padding:16px;background:#d4af3726;border-radius:12px;border:1px solid rgba(212,175,55,.4);display:flex;flex-direction:column;align-items:center;gap:12px}.fee-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#d4af37;font-weight:600}.fee-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#ededed}.fee-display[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: #D4AF37}ion-button[_ngcontent-%COMP%]{--background: linear-gradient(180deg, #F4D57B 0%, #D4AF37 50%, #A87C1C 100%);--color: #000000;font-weight:600;border-radius:18px;margin-top:10px}ion-button[disabled][_ngcontent-%COMP%]{--background: #444;--color: #9E9E9E;opacity:.6}ion-footer[_ngcontent-%COMP%]{--background: #0A0A0A;background:#0a0a0a!important;border-top:1px solid #2A2A2A}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #0A0A0A;background:#0a0a0a!important}ion-item[color=danger][_ngcontent-%COMP%]{--background: rgba(239, 68, 68, .15);--border-color: rgba(239, 68, 68, .3);border-radius:12px}ion-item[color=danger][_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ef4444}ion-item[color=danger][_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ededed}ion-button[slot=end][_ngcontent-%COMP%]{--color: #D4AF37}ion-spinner[_ngcontent-%COMP%]{--color: #D4AF37}"]});let i=d;return i})();function nt(i,d){i&1&&(o(0,"div",18),u(1,"ion-spinner",19),o(2,"p"),c(3,"Loading your bookings..."),r()())}function ot(i,d){if(i&1){let a=O();o(0,"div",20),u(1,"ion-icon",21),o(2,"p"),c(3),r(),o(4,"ion-button",22),C("click",function(){x(a);let n=p();return P(n.loadBookings())}),c(5,"Try Again"),r()()}if(i&2){let a=p();l(3),y(a.error)}}function it(i,d){i&1&&(o(0,"div",23),u(1,"ion-icon",24),o(2,"h2"),c(3,"No Bookings Yet"),r(),o(4,"p"),c(5,"You haven't booked any vehicles yet."),r(),o(6,"ion-button",25),c(7,"Browse Vehicles"),r()())}function rt(i,d){if(i&1&&(o(0,"p")(1,"strong"),c(2,"Time:"),r(),c(3),r()),i&2){let a=p().$implicit,t=p(2);l(3),b(" ",t.formatTime(a.rent_time),"")}}function at(i,d){if(i&1&&(o(0,"p")(1,"strong"),c(2,"Company:"),r(),c(3),r()),i&2){let a=p().$implicit;l(3),b(" ",a.company_name,"")}}function ct(i,d){if(i&1){let a=O();o(0,"div",36)(1,"ion-button",32),C("click",function(){x(a);let n=p().$implicit,e=p(2);return P(e.completePayment(n))}),u(2,"ion-icon",37),c(3," Complete Payment "),r()()}}function lt(i,d){if(i&1){let a=O();o(0,"ion-button",32),C("click",function(){x(a);let n=p(2).$implicit,e=p(2);return P(e.openRescheduleRequest(n))}),u(1,"ion-icon",41),c(2," Request Reschedule "),r()}}function st(i,d){if(i&1){let a=O();o(0,"ion-button",42),C("click",function(){x(a);let n=p(2).$implicit,e=p(2);return P(e.openCancellationRequest(n))}),u(1,"ion-icon",43),c(2," Request Cancel "),r()}}function dt(i,d){if(i&1&&(o(0,"div",38),f(1,lt,3,0,"ion-button",39)(2,st,3,0,"ion-button",40),r()),i&2){let a=p().$implicit,t=p(2);l(),g("ngIf",t.canRequestReschedule(a)),l(),g("ngIf",t.canRequestCancellation(a))}}function mt(i,d){if(i&1){let a=O();o(0,"div",44)(1,"ion-button",45),C("click",function(){x(a);let n=p().$implicit,e=p(2);return P(e.deleteBooking(n.id))}),u(2,"ion-icon",46),c(3," Delete "),r()()}}function gt(i,d){if(i&1){let a=O();o(0,"ion-card",27)(1,"ion-card-header")(2,"ion-card-title"),c(3),r(),o(4,"ion-card-subtitle")(5,"ion-badge",28),c(6),r()()(),o(7,"ion-card-content")(8,"div",29)(9,"p")(10,"strong"),c(11,"Date:"),r(),c(12),r(),f(13,rt,4,1,"p",5),o(14,"p")(15,"strong"),c(16,"Destination:"),r(),c(17),r(),f(18,at,4,1,"p",5),r(),f(19,ct,4,0,"div",30),o(20,"div",31)(21,"ion-button",32),C("click",function(){let n=x(a).$implicit,e=p(2);return P(e.viewTransactionDetails(n.id))}),u(22,"ion-icon",33),c(23," View Transaction Details "),r()(),f(24,dt,3,2,"div",34)(25,mt,4,0,"div",35),r()()}if(i&2){let a=d.$implicit,t=p(2);l(3),y(a.vehicle_name),l(2),g("color",t.getStatusColor(a.status)),l(),y(a.status),l(6),j(" ",t.formatDate(a.start_date)," - ",t.formatDate(a.end_date),""),l(),g("ngIf",a.rent_time),l(4),b(" ",a.destination,""),l(),g("ngIf",a.company_name),l(),g("ngIf",t.needsPayment(a)),l(5),g("ngIf",t.canRequestReschedule(a)||t.canRequestCancellation(a)),l(),g("ngIf",a.status==="Cancelled")}}function pt(i,d){if(i&1&&(o(0,"ion-list"),f(1,gt,26,11,"ion-card",26),r()),i&2){let a=p();l(),g("ngForOf",a.bookings)}}function ut(i,d){if(i&1&&(o(0,"div",47),c(1),r()),i&2){let a=p();l(),b(" ",a.requestUnreadCount," ")}}function _t(i,d){if(i&1&&(o(0,"div",47),c(1),r()),i&2){let a=p();l(),b(" ",a.unreadCount," ")}}Pe({home:Ie,"search-outline":qe,"car-outline":ye,"person-outline":Te,"notifications-outline":Se,"calendar-outline":ve,"close-circle-outline":ke,"document-text-outline":we,"refresh-outline":Re,"trash-outline":Ae,"receipt-outline":Ee,"card-outline":Oe});var zt=(()=>{let d=class d{constructor(t,n,e,s,m,_,M){this.router=t,this.modalCtrl=n,this.alertCtrl=e,this.apiService=s,this.notificationService=m,this.bookingRequestService=_,this.requestNotificationService=M,this.bookings=[],this.loading=!0,this.error=null,this.unreadCount=0,this.requestUnreadCount=0}ngOnInit(){if(!localStorage.getItem("user")){this.router.navigate(["/login"]);return}this.loadBookings(),this.updateNotificationCount(),this.updateRequestNotificationCount()}ionViewWillEnter(){this.loadBookings(),this.updateNotificationCount(),this.updateRequestNotificationCount()}logout(){localStorage.removeItem("token"),this.router.navigate(["/login"])}loadBookings(){this.loading=!0,this.error=null;let t=localStorage.getItem("token"),n=localStorage.getItem("user");if(console.log("=== MY-RENTALS DEBUG ==="),console.log("Token exists:",!!t),console.log("User exists:",!!n),console.log("Token value:",t),console.log("User value:",n),!t||!n){console.log("No token or user found, redirecting to login"),this.router.navigate(["/login"]);return}this.apiService.getMyBookings().subscribe({next:e=>{console.log("Bookings loaded:",e),console.log("Number of bookings:",e.length),this.bookings=[...e],this.loading=!1,e.forEach((s,m)=>{console.log(`Booking ${m+1} (ID: ${s.id}):`,{vehicle:s.vehicle_name,start_date:s.start_date,end_date:s.end_date,rent_time:s.rent_time,status:s.status})})},error:e=>{if(console.error("Error loading bookings:",e),console.error("Error details:",e.error),console.error("Error status:",e.status),e.status===401){console.log("Authentication error, redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userInfo"),this.router.navigate(["/login"]);return}this.error="Failed to load bookings",this.loading=!1}})}viewRentalDetails(t){this.router.navigate(["/rental-details",t])}cancelRental(t){return v(this,null,function*(){let n=yield this.modalCtrl.create({component:Q,componentProps:{title:"Cancel Rental",message:"Are you sure you want to cancel this rental?",type:"warning"}});yield n.present();let{data:e}=yield n.onWillDismiss();e!=null&&e.confirmed&&this.apiService.cancelRental(t).subscribe({next:()=>{this.loadBookings()},error:s=>{console.error("Error canceling rental:",s),this.modalCtrl.create({component:Q,componentProps:{title:"Error",message:"Failed to cancel rental. Please try again.",type:"error"}}).then(m=>m.present())}})})}getStatusColor(t){switch(t.toLowerCase()){case"active":return"success";case"pending":return"warning";case"cancelled":return"danger";case"completed":return"medium";default:return"primary"}}formatDate(t){if(!t||t===""||t==="Invalid Date")return"Invalid Date";let n=new Date(t);return isNaN(n.getTime())?(console.error("Invalid date string:",t),"Invalid Date"):n.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatTime(t){if(!t||t==="")return"";let[n,e]=t.split(":"),s=parseInt(n),m=s>=12?"PM":"AM";return`${s%12||12}:${e} ${m}`}navigateToHome(){this.router.navigate(["/dashboard"])}navigateToNotifications(){console.log("Navigating to Notifications..."),this.router.navigate(["/notifications"])}navigateToMyRentals(){console.log("Already on My Rentals page")}navigateToProfile(){this.router.navigate(["/profile"])}viewTransactionDetails(t){this.router.navigate(["/transaction-details",t])}needsPayment(t){if(t.status!=="Pending"&&t.status!=="Approved")return!1;let n=t.payment_status;if(n==="paid")return!1;if(t.payments&&Array.isArray(t.payments)&&t.payments.length>0){let e=t.payments.filter(_=>_.status==="paid").reduce((_,M)=>_+parseFloat(M.amount||0),0),s=t.payments.some(_=>_.status==="pending"||_.status==="failed");if(t.payments.every(_=>_.status==="paid")&&e>0&&n==="paid")return!1;if(n==="pending"||n==="failed"||n==="partially_paid"||s||e===0)return!0}else{if(n==="paid")return!1;if(!n||n==="pending"||n==="failed")return!0}return!1}getPaymentAmount(t){return 0}completePayment(t){return v(this,null,function*(){this.apiService.getTransactionDetails(t.id).subscribe({next:n=>{console.log("Transaction details:",n);let e=0;if(n.payment_summary&&(e=parseFloat(n.payment_summary.remaining_amount)||0),e<=0&&n.payment_summary){let m=parseFloat(n.payment_summary.total_cost)||0,_=parseFloat(n.payment_summary.total_paid)||0;e=m-_}if(e<=0){let m=parseFloat(n.total_price)||0;if(n.payments&&Array.isArray(n.payments)){let _=n.payments.filter(M=>M.status==="paid").reduce((M,z)=>M+parseFloat(z.amount||0),0);e=m-_}else m>0&&(e=m)}console.log("Calculated remaining amount:",e),console.log("Payment status:",n.payment_status);let s=n.payment_status||t.payment_status;if(s==="paid"&&e<=0){this.alertCtrl.create({header:"Payment Not Needed",message:"This booking is already fully paid.",buttons:["OK"]}).then(m=>m.present());return}if(e<=0&&s!=="paid"){console.warn("Remaining amount is 0 but payment status is not paid. Status:",s),this.alertCtrl.create({header:"Payment Information",message:"Unable to determine payment amount. Please view transaction details or contact support.",buttons:["OK"]}).then(m=>m.present());return}this.alertCtrl.create({header:"Complete Payment",message:`Complete payment of \u20B1${e.toFixed(2)} for Booking #${t.id}?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Proceed to Payment",handler:()=>{this.initiatePayment(t.id,e)}}]}).then(m=>m.present())},error:n=>{console.error("Error fetching transaction details:",n),this.alertCtrl.create({header:"Error",message:"Unable to fetch payment details. Please try again later.",buttons:["OK"]}).then(e=>e.present())}})})}initiatePayment(t,n){let e=this.alertCtrl.create({header:"Processing Payment",message:"Please wait while we prepare your payment...",buttons:[]});e.then(s=>s.present()),this.apiService.createPayment(n,t).subscribe({next:s=>{e.then(m=>m.dismiss()),s.checkout_url?(sessionStorage.setItem("pendingPaymentBookingId",t.toString()),window.location.href=s.checkout_url):this.alertCtrl.create({header:"Error",message:"Payment URL not received. Please try again.",buttons:["OK"]}).then(m=>m.present())},error:s=>{var _,M;e.then(z=>z.dismiss()),console.error("Error creating payment:",s);let m=((_=s.error)==null?void 0:_.error)||((M=s.error)==null?void 0:M.message)||"Failed to create payment. Please try again.";this.alertCtrl.create({header:"Payment Error",message:m,buttons:["OK"]}).then(z=>z.present())}})}updateNotificationCount(){this.notificationService.updateUnreadCount(),this.notificationService.unreadCount$.subscribe(t=>{this.unreadCount=t})}updateRequestNotificationCount(){this.requestNotificationService.updateUnreadCount(),this.requestNotificationService.unreadCount$.subscribe(t=>{this.requestUnreadCount=t})}canRequestReschedule(t){return t.status==="Pending"||t.status==="Approved"}canRequestCancellation(t){return t.status==="Pending"||t.status==="Approved"}openRescheduleRequest(t){return v(this,null,function*(){let n=yield this.modalCtrl.create({component:X,componentProps:{booking:t,requestType:"reschedule"}});yield n.present();let{data:e}=yield n.onWillDismiss();setTimeout(()=>{this.loadBookings()},500)})}openCancellationRequest(t){return v(this,null,function*(){let n=yield this.modalCtrl.create({component:X,componentProps:{booking:t,requestType:"cancellation"}});yield n.present();let{data:e}=yield n.onWillDismiss();setTimeout(()=>{this.loadBookings()},500)})}navigateToRequests(){this.router.navigate(["/booking-requests"])}doRefresh(t){this.loadBookings(),setTimeout(()=>{t.target.complete()},1e3)}getCancelledBookingsCount(){return this.bookings.filter(t=>t.status==="Cancelled").length}deleteBooking(t){return v(this,null,function*(){yield(yield this.alertCtrl.create({header:"Delete Booking",message:"Are you sure you want to permanently delete this cancelled booking? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:()=>{this.apiService.deleteBooking(t).subscribe({next:()=>{this.loadBookings()},error:e=>{var m,_;console.error("Error deleting booking:",e);let s=((m=e.error)==null?void 0:m.error)||((_=e.error)==null?void 0:_.details)||e.message||"Failed to delete booking. Please try again.";this.alertCtrl.create({header:"Error",message:s,buttons:["OK"]}).then(M=>M.present())}})}}]})).present()})}cleanupCancelledBookings(){return v(this,null,function*(){let t=this.bookings.filter(e=>e.status==="Cancelled");if(t.length===0)return;yield(yield this.alertCtrl.create({header:"Clean Up Cancelled Bookings",message:`Are you sure you want to permanently delete ${t.length} cancelled booking(s)? This action cannot be undone.`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete All",role:"destructive",handler:()=>{let e=t.map(s=>s.id);this.apiService.deleteMultipleBookings(e).subscribe({next:s=>{console.log("Deleted bookings:",s),this.loadBookings()},error:s=>{var m;console.error("Error deleting bookings:",s),this.alertCtrl.create({header:"Error",message:((m=s.error)==null?void 0:m.error)||"Failed to delete bookings. Please try again.",buttons:["OK"]}).then(_=>_.present())}})}}]})).present()})}};d.\u0275fac=function(n){return new(n||d)(h(re),h(J),h(G),h(xe),h(De),h(B),h(Fe))},d.\u0275cmp=k({type:d,selectors:[["app-my-rentals"]],standalone:!0,features:[w],decls:37,vars:7,consts:[[1,"ion-padding"],["slot","fixed",3,"ionRefresh"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","empty-container",4,"ngIf"],[4,"ngIf"],[1,"bottom-nav"],[1,"nav-container"],[1,"nav-button",3,"click"],["name","home",1,"nav-icon"],[1,"nav-label"],[1,"nav-button","active",3,"click"],["name","car-outline",1,"nav-icon"],[1,"notification-wrapper"],["name","document-text-outline",1,"nav-icon"],["class","notification-badge",4,"ngIf"],["name","notifications-outline",1,"nav-icon"],["name","person-outline",1,"nav-icon"],[1,"loading-container"],["name","crescent"],[1,"error-container"],["name","alert-circle-outline","color","danger"],[3,"click"],[1,"empty-container"],["name","car-outline"],["routerLink","/vehicles"],["class","booking-card",4,"ngFor","ngForOf"],[1,"booking-card"],[3,"color"],[1,"booking-details"],["class","payment-action",4,"ngIf"],[1,"transaction-action"],["fill","outline","size","small",3,"click"],["name","receipt-outline","slot","start"],["class","request-actions",4,"ngIf"],["class","delete-action",4,"ngIf"],[1,"payment-action"],["name","card-outline","slot","start"],[1,"request-actions"],["fill","outline","size","small",3,"click",4,"ngIf"],["fill","outline","color","danger","size","small",3,"click",4,"ngIf"],["name","calendar-outline","slot","start"],["fill","outline","color","danger","size","small",3,"click"],["name","close-circle-outline","slot","start"],[1,"delete-action"],["fill","clear","color","danger","size","small",3,"click"],["name","trash-outline","slot","start"],[1,"notification-badge"]],template:function(n,e){n&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),c(3,"My Rentals"),r()()(),o(4,"ion-content",0)(5,"ion-refresher",1),C("ionRefresh",function(m){return e.doRefresh(m)}),u(6,"ion-refresher-content"),r(),f(7,nt,4,0,"div",2)(8,ot,6,1,"div",3)(9,it,8,0,"div",4)(10,pt,2,1,"ion-list",5),r(),o(11,"div",6)(12,"div",7)(13,"button",8),C("click",function(){return e.navigateToHome()}),u(14,"ion-icon",9),o(15,"span",10),c(16,"Home"),r()(),o(17,"button",11),C("click",function(){return e.navigateToMyRentals()}),u(18,"ion-icon",12),o(19,"span",10),c(20,"My Rentals"),r()(),o(21,"button",8),C("click",function(){return e.navigateToRequests()}),o(22,"div",13),u(23,"ion-icon",14),f(24,ut,2,1,"div",15),r(),o(25,"span",10),c(26),r()(),o(27,"button",8),C("click",function(){return e.navigateToNotifications()}),o(28,"div",13),u(29,"ion-icon",16),f(30,_t,2,1,"div",15),r(),o(31,"span",10),c(32,"Notifications"),r()(),o(33,"button",8),C("click",function(){return e.navigateToProfile()}),u(34,"ion-icon",17),o(35,"span",10),c(36,"Profile"),r()()()()),n&2&&(l(7),g("ngIf",e.loading),l(),g("ngIf",e.error),l(),g("ngIf",!e.loading&&!e.error&&e.bookings.length===0),l(),g("ngIf",!e.loading&&!e.error&&e.bookings.length>0),l(14),g("ngIf",e.requestUnreadCount>0),l(2),b("Requests",e.requestUnreadCount>0?" ("+e.requestUnreadCount+")":"",""),l(4),g("ngIf",e.unreadCount>0))},dependencies:[F,se,U,T,E,R,me,q,$,W,A,fe,Ce,he,D,K,Y,Me,S,Z,I,ce,ae],styles:["ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background: #0A0A0A !important;background:#0a0a0a!important}ion-title[_ngcontent-%COMP%]{color:#d4af37!important;font-weight:600}ion-content[_ngcontent-%COMP%]{--background: #0A0A0A;background:#0a0a0a!important;padding-bottom:120px}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:20px;text-align:center}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--ion-color-danger);margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d4af37;margin-bottom:16px}ion-list[_ngcontent-%COMP%]{background:transparent;margin:0 auto 40px;max-width:600px;width:100%}.booking-item[_ngcontent-%COMP%]{background:#1b1b1b;border-radius:18px;border:1px solid #2A2A2A;box-shadow:0 4px 12px #00000080;margin-bottom:24px;padding:22px 20px;display:flex;align-items:flex-start;transition:box-shadow .2s}.booking-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0006}.booking-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ededed;font-weight:600;margin-bottom:10px}.booking-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ededed;margin:4px 0}.booking-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#d4af37;font-weight:500}.booking-item[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{background:#d4af37;color:#000;font-weight:600;margin-left:32px}ion-button[_ngcontent-%COMP%]{--background: #2563eb;--color: #fff;font-weight:600;border-radius:8px;margin-top:10px}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;color:#d4af37}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#d4af37;margin:16px 0;font-weight:600}.empty-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#d4af37;font-weight:600}.empty-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ededed}.error-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#d4af37!important}.rental-item[_ngcontent-%COMP%]{--background: #1B1B1B;margin:8px 0;border-radius:18px;border:1px solid #2A2A2A;box-shadow:0 4px 12px #00000080}.rental-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 80px;margin:8px;border-radius:4px;overflow:hidden}.rental-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rental-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#ededed;margin-bottom:4px}.rental-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;color:#ededed;font-size:14px;margin:4px 0}.rental-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px;color:#d4af37}.rental-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-top:8px}.rental-item[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--background: #2563EB;--color: #FFFFFF;color:#fff;font-weight:600;border-radius:6px}.status-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:4px 0}.status-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#facc15;font-weight:500}.status-row[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-left:12px}.status-badge[_ngcontent-%COMP%]{margin-left:48px!important}.booking-card[_ngcontent-%COMP%]{background:#1b1b1b;border-radius:18px;border:1px solid #2A2A2A;box-shadow:0 4px 12px #00000080;margin-bottom:24px;color:#ededed}.booking-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding-bottom:12px}.booking-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{color:#ededed;font-weight:600;font-size:1.2em}.booking-card[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{margin-top:8px}.booking-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#ededed}.booking-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#d4af37;font-weight:500}.payment-action[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:12px}.payment-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-color: var(--primary-gold);--color: var(--primary-gold);--background: transparent;width:100%;margin:0;font-weight:600}.payment-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--primary-gold);margin-right:8px}.payment-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--border-color: var(--primary-gold);--color: var(--primary-gold);--background: rgba(212, 175, 55, .1)}.transaction-action[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:12px}.transaction-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-color: var(--primary-gold);--color: var(--primary-gold);--background: transparent;width:100%;margin:0;font-weight:600}.transaction-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--primary-gold)}.transaction-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--border-color: var(--primary-gold);--color: var(--primary-gold);--background: rgba(212, 175, 55, .1)}.request-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:16px;flex-wrap:wrap}.request-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;min-width:140px;--border-color: #D4AF37;--color: #D4AF37;margin:0}.request-actions[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]{--border-color: #ff4444;--color: #ff4444}.view-requests-section[_ngcontent-%COMP%]{margin:24px 0;padding:0 16px}.view-requests-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-color: #D4AF37;--color: #D4AF37}.view-requests-section[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{--border-color: #22C55E;--color: #22C55E}[_nghost-%COMP%]     ion-item.booking-item{--background: #1B1B1B !important;background:#1b1b1b!important;border:1px solid #2A2A2A!important;border-radius:18px!important;box-shadow:0 4px 12px #00000080!important}.bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:1000;background:#0a0a0a;border-top:1px solid #2A2A2A;box-shadow:0 -4px 20px #d4af3733;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:80px;padding:0 16px}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:transparent;border:none;padding:8px 12px;border-radius:12px;cursor:pointer;color:#9e9e9e;min-width:60px}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:4px;transition:all .3s ease;color:#ededed!important;display:block}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;transition:all .3s ease;color:inherit}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .nav-button.active[_ngcontent-%COMP%]{color:#d4af37;background:#d4af3726}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .nav-button.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{transform:scale(1.1);color:#d4af37;filter:drop-shadow(0 0 8px rgba(212,175,55,.6))}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .nav-button.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-weight:600;color:#d4af37}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background:#ef4444;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;border:2px solid var(--background-main);z-index:10;box-shadow:0 2px 8px #ef444466;box-shadow:0 3px 8px #000000b3;font-family:Arial,sans-serif;animation:_ngcontent-%COMP%_pulse 1s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]:hover{background:#d4af371a;color:#d4af37}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%], .bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]:hover   .nav-label[_ngcontent-%COMP%]{color:#d4af37}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 768px){.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]{height:70px;padding:0 8px}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{min-width:50px;padding:6px 8px}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{font-size:1.6rem}.bottom-nav[_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:.7rem}ion-content[_ngcontent-%COMP%]{padding-bottom:110px}}"]});let i=d;return i})();export{zt as MyRentalsPage};
